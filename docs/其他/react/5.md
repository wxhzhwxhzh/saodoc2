---
id: 5
title: 5.äº‹ä»¶å¤„ç†
sidebar_position: 5
---
# é˜¶æ®µ5:äº‹ä»¶å¤„ç†

## ğŸ¯ å­¦ä¹ ç›®æ ‡
æŒæ¡Reactä¸­çš„äº‹ä»¶ç»‘å®šæ–¹å¼,ç†è§£ä¸åŸç”ŸJSçš„åŒºåˆ«,å­¦ä¼šå¤„ç†å¸¸è§äº‹ä»¶(ç‚¹å‡»ã€è¾“å…¥ã€æäº¤ç­‰)ã€‚

---

## ä¸€ã€Reactäº‹ä»¶ vs åŸç”ŸJSäº‹ä»¶

### è¯­æ³•å¯¹æ¯”

```javascript
// åŸç”ŸJavaScript
<button onclick="handleClick()">ç‚¹å‡»</button>

// React
<button onClick={handleClick}>ç‚¹å‡»</button>
```

**3ä¸ªå…³é”®åŒºåˆ«**:

| ç‰¹æ€§ | åŸç”ŸJS | React |
|------|--------|-------|
| å‘½å | å°å†™ `onclick` | é©¼å³° `onClick` |
| ä¼ å€¼ | å­—ç¬¦ä¸² `"handleClick()"` | å‡½æ•° `{handleClick}` |
| é˜»æ­¢é»˜è®¤è¡Œä¸º | `return false` | è°ƒç”¨ `event.preventDefault()` |

---

## äºŒã€åŸºæœ¬äº‹ä»¶ç»‘å®š

### æ–¹å¼1:ç›´æ¥å®šä¹‰å‡½æ•°(æ¨è)

```javascript
import { useState } from 'react';

function ClickDemo() {
  const [count, setCount] = useState(0);
  
  // å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°
  const handleClick = () => {
    setCount(count + 1);
    console.log('æŒ‰é’®è¢«ç‚¹å‡»äº†!');
  };
  
  return (
    <div>
      <p>ç‚¹å‡»æ¬¡æ•°: {count}</p>
      {/* ä¼ é€’å‡½æ•°å,ä¸è¦åŠ æ‹¬å·! */}
      <button onClick={handleClick}>ç‚¹å‡»æˆ‘</button>
    </div>
  );
}
```

**âš ï¸ å¸¸è§é”™è¯¯**:
```javascript
// âŒ é”™è¯¯:åŠ äº†æ‹¬å·,å‡½æ•°ä¼šç«‹å³æ‰§è¡Œ
<button onClick={handleClick()}>ç‚¹å‡»</button>

// âœ… æ­£ç¡®:åªä¼ å‡½æ•°å
<button onClick={handleClick}>ç‚¹å‡»</button>

// âœ… æˆ–è€…ç”¨ç®­å¤´å‡½æ•°åŒ…è£¹
<button onClick={() => handleClick()}>ç‚¹å‡»</button>
```

---

### æ–¹å¼2:å†…è”ç®­å¤´å‡½æ•°(ç®€å•é€»è¾‘ç”¨)

```javascript
function InlineDemo() {
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <p>{count}</p>
      {/* ç›´æ¥å†™é€»è¾‘ */}
      <button onClick={() => setCount(count + 1)}>
        +1
      </button>
      <button onClick={() => setCount(count - 1)}>
        -1
      </button>
      <button onClick={() => setCount(0)}>
        é‡ç½®
      </button>
    </div>
  );
}
```

**ä»€ä¹ˆæ—¶å€™ç”¨å†…è”?**
- âœ… é€»è¾‘ç®€å•(1-2è¡Œä»£ç )
- âŒ é€»è¾‘å¤æ‚(å¤šè¡Œä»£ç ) â†’ å®šä¹‰å•ç‹¬å‡½æ•°

---

## ä¸‰ã€å¸¸è§äº‹ä»¶ç±»å‹

### 1. ç‚¹å‡»äº‹ä»¶ (onClick)

```javascript
function ButtonEvents() {
  const handleClick = () => alert('ç‚¹å‡»!');
  const handleDoubleClick = () => alert('åŒå‡»!');
  const handleRightClick = (e) => {
    e.preventDefault();  // é˜»æ­¢é»˜è®¤å³é”®èœå•
    alert('å³é”®ç‚¹å‡»!');
  };
  
  return (
    <div>
      <button onClick={handleClick}>ç‚¹å‡»</button>
      <button onDoubleClick={handleDoubleClick}>åŒå‡»</button>
      <button onContextMenu={handleRightClick}>å³é”®ç‚¹å‡»</button>
    </div>
  );
}
```

---

### 2. è¾“å…¥äº‹ä»¶ (onChange)

```javascript
import { useState } from 'react';

function InputEvents() {
  const [text, setText] = useState('');
  
  const handleChange = (event) => {
    console.log('å½“å‰å€¼:', event.target.value);
    setText(event.target.value);
  };
  
  return (
    <div>
      <input 
        type="text"
        value={text}
        onChange={handleChange}
        placeholder="è¾“å…¥ç‚¹ä»€ä¹ˆ..."
      />
      <p>ä½ è¾“å…¥çš„: {text}</p>
    </div>
  );
}
```

**eventå¯¹è±¡å¸¸ç”¨å±æ€§**:
- `event.target`: è§¦å‘äº‹ä»¶çš„å…ƒç´ 
- `event.target.value`: è¾“å…¥æ¡†çš„å€¼
- `event.target.checked`: å¤é€‰æ¡†çš„é€‰ä¸­çŠ¶æ€

---

### 3. è¡¨å•æäº¤äº‹ä»¶ (onSubmit)

```javascript
import { useState } from 'react';

function LoginForm() {
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');
  
  const handleSubmit = (event) => {
    event.preventDefault();  // âš ï¸ é˜»æ­¢é»˜è®¤åˆ·æ–°è¡Œä¸º,å¾ˆé‡è¦!
    
    console.log('æäº¤çš„æ•°æ®:', { username, password });
    alert(`æ¬¢è¿ ${username} ç™»å½•!`);
    
    // æ¸…ç©ºè¡¨å•
    setUsername('');
    setPassword('');
  };
  
  return (
    <form onSubmit={handleSubmit} style={{ padding: '20px' }}>
      <div style={{ marginBottom: '10px' }}>
        <label>ç”¨æˆ·å: </label>
        <input 
          type="text"
          value={username}
          onChange={e => setUsername(e.target.value)}
          required
        />
      </div>
      
      <div style={{ marginBottom: '10px' }}>
        <label>å¯†ç : </label>
        <input 
          type="password"
          value={password}
          onChange={e => setPassword(e.target.value)}
          required
        />
      </div>
      
      <button type="submit">ç™»å½•</button>
    </form>
  );
}

export default LoginForm;
```

**å…³é”®ç‚¹**:
- `onSubmit` ç»‘å®šåœ¨ `<form>` æ ‡ç­¾ä¸Š
- å¿…é¡»è°ƒç”¨ `event.preventDefault()` é˜»æ­¢é¡µé¢åˆ·æ–°
- ç‚¹å‡»æäº¤æŒ‰é’®æˆ–æŒ‰å›è½¦éƒ½ä¼šè§¦å‘

---

### 4. é”®ç›˜äº‹ä»¶ (onKeyDown / onKeyUp)

```javascript
import { useState } from 'react';

function KeyboardDemo() {
  const [message, setMessage] = useState('');
  
  const handleKeyDown = (event) => {
    // æŒ‰ä¸‹Enterå‘é€æ¶ˆæ¯
    if (event.key === 'Enter') {
      alert(`å‘é€æ¶ˆæ¯: ${message}`);
      setMessage('');
    }
    
    // æŒ‰ä¸‹Escapeæ¸…ç©º
    if (event.key === 'Escape') {
      setMessage('');
    }
  };
  
  return (
    <div style={{ padding: '20px' }}>
      <p>æç¤º: æŒ‰Enterå‘é€,Escapeæ¸…ç©º</p>
      <input 
        type="text"
        value={message}
        onChange={e => setMessage(e.target.value)}
        onKeyDown={handleKeyDown}
        placeholder="è¾“å…¥æ¶ˆæ¯..."
        style={{ width: '300px', padding: '10px' }}
      />
    </div>
  );
}

export default KeyboardDemo;
```

**å¸¸ç”¨çš„event.keyå€¼**:
- `'Enter'`: å›è½¦
- `'Escape'`: ESCé”®
- `'ArrowUp'` / `'ArrowDown'`: ä¸Šä¸‹ç®­å¤´
- `'a'`, `'b'`, `'1'`, `'2'`: å­—æ¯å’Œæ•°å­—

---

### 5. é¼ æ ‡ç§»åŠ¨äº‹ä»¶

```javascript
import { useState } from 'react';

function MouseTracker() {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  const [isInside, setIsInside] = useState(false);
  
  const handleMouseMove = (event) => {
    setPosition({
      x: event.clientX,  // é¼ æ ‡Xåæ ‡
      y: event.clientY   // é¼ æ ‡Yåæ ‡
    });
  };
  
  return (
    <div 
      onMouseMove={handleMouseMove}
      onMouseEnter={() => setIsInside(true)}   // é¼ æ ‡è¿›å…¥
      onMouseLeave={() => setIsInside(false)}  // é¼ æ ‡ç¦»å¼€
      style={{
        width: '400px',
        height: '300px',
        border: '2px solid #333',
        position: 'relative',
        backgroundColor: isInside ? '#e3f2fd' : 'white'
      }}
    >
      <p>é¼ æ ‡ä½ç½®: X: {position.x}, Y: {position.y}</p>
      <p>é¼ æ ‡åœ¨åŒºåŸŸå†…: {isInside ? 'æ˜¯' : 'å¦'}</p>
    </div>
  );
}

export default MouseTracker;
```

---

## å››ã€äº‹ä»¶ä¼ å‚çš„æŠ€å·§

### é—®é¢˜:å¦‚ä½•ç»™äº‹ä»¶å¤„ç†å‡½æ•°ä¼ é¢å¤–å‚æ•°?

```javascript
import { useState } from 'react';

function ParameterDemo() {
  const [selectedColor, setSelectedColor] = useState('gray');
  
  // æ–¹å¼1:äº‹ä»¶å¤„ç†å‡½æ•°æ¥æ”¶å‚æ•°
  const handleSelectColor = (color) => {
    console.log('é€‰æ‹©çš„é¢œè‰²:', color);
    setSelectedColor(color);
  };
  
  return (
    <div style={{ padding: '20px' }}>
      <p>å½“å‰é¢œè‰²: {selectedColor}</p>
      
      {/* âœ… ç”¨ç®­å¤´å‡½æ•°åŒ…è£¹,ä¼ é€’å‚æ•° */}
      <button onClick={() => handleSelectColor('red')}>
        çº¢è‰²
      </button>
      <button onClick={() => handleSelectColor('green')}>
        ç»¿è‰²
      </button>
      <button onClick={() => handleSelectColor('blue')}>
        è“è‰²
      </button>
      
      {/* æ˜¾ç¤ºå½“å‰é¢œè‰²çš„æ–¹å— */}
      <div style={{
        width: '100px',
        height: '100px',
        backgroundColor: selectedColor,
        marginTop: '20px',
        border: '2px solid #333'
      }}></div>
    </div>
  );
}

export default ParameterDemo;
```

---

### å®æˆ˜æ¡ˆä¾‹:åˆ é™¤åˆ—è¡¨é¡¹

```javascript
import { useState } from 'react';

function TodoList() {
  const [todos, setTodos] = useState([
    { id: 1, text: 'å­¦ä¹ React' },
    { id: 2, text: 'åšé¡¹ç›®' },
    { id: 3, text: 'å†™æ€»ç»“' }
  ]);
  
  // åˆ é™¤å‡½æ•°:æ¥æ”¶idå‚æ•°
  const handleDelete = (id) => {
    const newTodos = todos.filter(todo => todo.id !== id);
    setTodos(newTodos);
  };
  
  return (
    <div style={{ padding: '20px' }}>
      <h3>å¾…åŠäº‹é¡¹</h3>
      <ul>
        {todos.map(todo => (
          <li key={todo.id} style={{ marginBottom: '10px' }}>
            {todo.text}
            {/* ä¼ é€’idç»™åˆ é™¤å‡½æ•° */}
            <button 
              onClick={() => handleDelete(todo.id)}
              style={{ marginLeft: '10px', color: 'red' }}
            >
              åˆ é™¤
            </button>
          </li>
        ))}
      </ul>
    </div>
  );
}

export default TodoList;
```

---

## äº”ã€é˜»æ­¢é»˜è®¤è¡Œä¸ºå’Œäº‹ä»¶å†’æ³¡

### 1. é˜»æ­¢é»˜è®¤è¡Œä¸º (preventDefault)

```javascript
function LinkDemo() {
  const handleClick = (event) => {
    event.preventDefault();  // é˜»æ­¢é“¾æ¥è·³è½¬
    alert('é“¾æ¥è¢«æ‹¦æˆªäº†!');
  };
  
  return (
    <a href="https://www.google.com" onClick={handleClick}>
      ç‚¹æˆ‘(ä¸ä¼šè·³è½¬)
    </a>
  );
}
```

**å¸¸è§ä½¿ç”¨åœºæ™¯**:
- è¡¨å•æäº¤:é˜»æ­¢é¡µé¢åˆ·æ–°
- é“¾æ¥ç‚¹å‡»:é˜»æ­¢è·³è½¬
- å³é”®èœå•:é˜»æ­¢é»˜è®¤èœå•

---

### 2. é˜»æ­¢äº‹ä»¶å†’æ³¡ (stopPropagation)

```javascript
function BubbleDemo() {
  const handleParentClick = () => {
    alert('çˆ¶å…ƒç´ è¢«ç‚¹å‡»');
  };
  
  const handleChildClick = (event) => {
    event.stopPropagation();  // é˜»æ­¢äº‹ä»¶å‘ä¸Šä¼ é€’
    alert('å­å…ƒç´ è¢«ç‚¹å‡»');
  };
  
  return (
    <div 
      onClick={handleParentClick}
      style={{ 
        padding: '40px', 
        backgroundColor: '#f0f0f0',
        cursor: 'pointer'
      }}
    >
      çˆ¶å…ƒç´ 
      <button 
        onClick={handleChildClick}
        style={{ display: 'block', marginTop: '10px' }}
      >
        å­å…ƒç´ (ä¸ä¼šè§¦å‘çˆ¶å…ƒç´ äº‹ä»¶)
      </button>
    </div>
  );
}
```

---

## å…­ã€ç»¼åˆå®æˆ˜:äº¤äº’å¼é—®å·

### ç›®æ ‡:ä¸€ä¸ªç®€å•çš„è°ƒæŸ¥é—®å·

åˆ›å»º `src/Survey.js`:

```javascript
import { useState } from 'react';

function Survey() {
  const [name, setName] = useState('');
  const [age, setAge] = useState('');
  const [hobby, setHobby] = useState('');
  const [agree, setAgree] = useState(false);
  const [submitted, setSubmitted] = useState(false);
  
  const handleSubmit = (event) => {
    event.preventDefault();
    
    // éªŒè¯
    if (!name || !age || !hobby) {
      alert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯!');
      return;
    }
    
    if (!agree) {
      alert('è¯·åŒæ„åè®®!');
      return;
    }
    
    // æäº¤æˆåŠŸ
    setSubmitted(true);
  };
  
  const handleReset = () => {
    setName('');
    setAge('');
    setHobby('');
    setAgree(false);
    setSubmitted(false);
  };
  
  // æäº¤åæ˜¾ç¤ºç»“æœ
  if (submitted) {
    return (
      <div style={{ padding: '30px', maxWidth: '500px', margin: '0 auto' }}>
        <h2 style={{ color: '#4CAF50' }}>âœ“ æäº¤æˆåŠŸ!</h2>
        <div style={{ 
          backgroundColor: '#f9f9f9', 
          padding: '20px', 
          borderRadius: '8px',
          marginTop: '20px'
        }}>
          <p><strong>å§“å:</strong> {name}</p>
          <p><strong>å¹´é¾„:</strong> {age}</p>
          <p><strong>çˆ±å¥½:</strong> {hobby}</p>
        </div>
        <button 
          onClick={handleReset}
          style={{
            marginTop: '20px',
            padding: '10px 20px',
            backgroundColor: '#2196F3',
            color: 'white',
            border: 'none',
            borderRadius: '5px',
            cursor: 'pointer'
          }}
        >
          é‡æ–°å¡«å†™
        </button>
      </div>
    );
  }
  
  // æœªæäº¤:æ˜¾ç¤ºè¡¨å•
  return (
    <div style={{ padding: '30px', maxWidth: '500px', margin: '0 auto' }}>
      <h2>ç”¨æˆ·è°ƒæŸ¥é—®å·</h2>
      
      <form onSubmit={handleSubmit}>
        {/* å§“å */}
        <div style={{ marginBottom: '20px' }}>
          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>
            å§“å:
          </label>
          <input 
            type="text"
            value={name}
            onChange={e => setName(e.target.value)}
            placeholder="è¯·è¾“å…¥å§“å"
            style={{
              width: '100%',
              padding: '10px',
              fontSize: '16px',
              border: '1px solid #ddd',
              borderRadius: '5px'
            }}
          />
        </div>
        
        {/* å¹´é¾„ */}
        <div style={{ marginBottom: '20px' }}>
          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>
            å¹´é¾„:
          </label>
          <input 
            type="number"
            value={age}
            onChange={e => setAge(e.target.value)}
            placeholder="è¯·è¾“å…¥å¹´é¾„"
            min="1"
            max="120"
            style={{
              width: '100%',
              padding: '10px',
              fontSize: '16px',
              border: '1px solid #ddd',
              borderRadius: '5px'
            }}
          />
        </div>
        
        {/* çˆ±å¥½(ä¸‹æ‹‰æ¡†) */}
        <div style={{ marginBottom: '20px' }}>
          <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>
            çˆ±å¥½:
          </label>
          <select 
            value={hobby}
            onChange={e => setHobby(e.target.value)}
            style={{
              width: '100%',
              padding: '10px',
              fontSize: '16px',
              border: '1px solid #ddd',
              borderRadius: '5px'
            }}
          >
            <option value="">è¯·é€‰æ‹©</option>
            <option value="è¿åŠ¨">è¿åŠ¨</option>
            <option value="é˜…è¯»">é˜…è¯»</option>
            <option value="éŸ³ä¹">éŸ³ä¹</option>
            <option value="ç¼–ç¨‹">ç¼–ç¨‹</option>
          </select>
        </div>
        
        {/* å¤é€‰æ¡† */}
        <div style={{ marginBottom: '20px' }}>
          <label>
            <input 
              type="checkbox"
              checked={agree}
              onChange={e => setAgree(e.target.checked)}
              style={{ marginRight: '8px' }}
            />
            æˆ‘åŒæ„ç”¨æˆ·åè®®
          </label>
        </div>
        
        {/* æŒ‰é’® */}
        <div style={{ display: 'flex', gap: '10px' }}>
          <button 
            type="submit"
            style={{
              padding: '12px 24px',
              backgroundColor: '#4CAF50',
              color: 'white',
              border: 'none',
              borderRadius: '5px',
              cursor: 'pointer',
              fontSize: '16px'
            }}
          >
            æäº¤
          </button>
          
          <button 
            type="button"
            onClick={handleReset}
            style={{
              padding: '12px 24px',
              backgroundColor: '#f44336',
              color: 'white',
              border: 'none',
              borderRadius: '5px',
              cursor: 'pointer',
              fontSize: '16px'
            }}
          >
            é‡ç½®
          </button>
        </div>
      </form>
    </div>
  );
}

export default Survey;
```

**è¿è¡Œç»“æœ**:
1. å¡«å†™è¡¨å•(å§“åã€å¹´é¾„ã€çˆ±å¥½ã€åŒæ„åè®®)
2. ç‚¹æäº¤ â†’ æ˜¾ç¤ºå¡«å†™çš„ä¿¡æ¯
3. ç‚¹é‡æ–°å¡«å†™ â†’ å›åˆ°è¡¨å•

---

## âœ… é˜¶æ®µ5æ€»ç»“

**ä½ å·²ç»å­¦ä¼š**:
1. âœ“ Reactäº‹ä»¶å‘½åè§„åˆ™(é©¼å³°,å¦‚onClick)
2. âœ“ äº‹ä»¶ç»‘å®šè¯­æ³•(`onClick={handler}`)
3. âœ“ å¸¸è§äº‹ä»¶:ç‚¹å‡»ã€è¾“å…¥ã€æäº¤ã€é”®ç›˜ã€é¼ æ ‡
4. âœ“ ç»™äº‹ä»¶å¤„ç†å‡½æ•°ä¼ å‚
5. âœ“ `preventDefault()`å’Œ`stopPropagation()`çš„ä½¿ç”¨
6. âœ“ è¡¨å•å—æ§ç»„ä»¶

**Reactäº‹ä»¶å¿«é€Ÿå‚è€ƒ**:

```javascript
// ç‚¹å‡»
<button onClick={handleClick}>ç‚¹å‡»</button>

// è¾“å…¥
<input onChange={e => setText(e.target.value)} />

// æäº¤
<form onSubmit={handleSubmit}>...</form>

// é”®ç›˜
<input onKeyDown={handleKeyDown} />

// é¼ æ ‡
<div onMouseEnter={() => ...} onMouseLeave={() => ...}>
```

**éªŒæ”¶æ ‡å‡†**:
- èƒ½ç»™æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶
- èƒ½è·å–è¾“å…¥æ¡†çš„å€¼
- èƒ½å¤„ç†è¡¨å•æäº¤å¹¶é˜»æ­¢é»˜è®¤è¡Œä¸º
- èƒ½ç»™äº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’å‚æ•°

**ä¸‹ä¸€æ­¥**:
ç°åœ¨ä½ å·²ç»æŒæ¡äº†äº¤äº’çš„æ ¸å¿ƒæŠ€æœ¯!ä¸‹ä¸€é˜¶æ®µæˆ‘ä»¬å°†å­¦ä¹ **æ¡ä»¶æ¸²æŸ“å’Œåˆ—è¡¨æ¸²æŸ“**,è¿™æ ·å°±èƒ½æ˜¾ç¤ºåŠ¨æ€æ•°æ®äº†(æ¯”å¦‚æ˜¾ç¤ºä¸€ä¸ªTodoåˆ—è¡¨)!

---

## ğŸ’¡ ç»ƒä¹ é¢˜

åšä¸€ä¸ª `CommentBox` ç»„ä»¶:
- è¾“å…¥æ¡†è¾“å…¥è¯„è®º
- ç‚¹å‡»"å‘å¸ƒ"æŒ‰é’®,åœ¨ä¸‹æ–¹æ˜¾ç¤ºè¯„è®º
- ç‚¹å‡»"åˆ é™¤"å¯ä»¥åˆ é™¤è¯„è®º
- æç¤º:ç”¨æ•°ç»„Stateå­˜å‚¨è¯„è®ºåˆ—è¡¨