<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-å…¶ä»–/playwright/intro16" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ğŸ’œ16.BrowserContext | ITçŸ¥è¯†å­¦ä¹ ç½‘ç«™</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-domain.com/saodoc2/docs/å…¶ä»–/playwright/intro16"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ğŸ’œ16.BrowserContext | ITçŸ¥è¯†å­¦ä¹ ç½‘ç«™"><meta data-rh="true" name="description" content="BrowserContextï¼ˆæµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼‰æ˜¯ Playwright ä¸­çš„æ ¸å¿ƒéš”ç¦»å•å…ƒï¼Œç”¨äºåˆ›å»ºç‹¬ç«‹çš„æµè§ˆå™¨ç¯å¢ƒã€‚ä¸€ä¸ª Browser å®ä¾‹å¯ä»¥åŒ…å«å¤šä¸ª BrowserContextï¼Œæ¯ä¸ªä¸Šä¸‹æ–‡ä¹‹é—´çš„ Cookieã€æœ¬åœ°å­˜å‚¨ï¼ˆLocalStorage/SessionStorageï¼‰ã€ç¼“å­˜ã€æƒé™é…ç½®ç­‰å®Œå…¨éš”ç¦»ï¼Œç›¸å½“äºâ€œè½»é‡çº§æµè§ˆå™¨å®ä¾‹â€ï¼Œé€‚ç”¨äºå¤šè´¦å·å¹¶è¡Œæµ‹è¯•ã€å¤šç¯å¢ƒéš”ç¦»è¿è¡Œç­‰åœºæ™¯ã€‚"><meta data-rh="true" property="og:description" content="BrowserContextï¼ˆæµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼‰æ˜¯ Playwright ä¸­çš„æ ¸å¿ƒéš”ç¦»å•å…ƒï¼Œç”¨äºåˆ›å»ºç‹¬ç«‹çš„æµè§ˆå™¨ç¯å¢ƒã€‚ä¸€ä¸ª Browser å®ä¾‹å¯ä»¥åŒ…å«å¤šä¸ª BrowserContextï¼Œæ¯ä¸ªä¸Šä¸‹æ–‡ä¹‹é—´çš„ Cookieã€æœ¬åœ°å­˜å‚¨ï¼ˆLocalStorage/SessionStorageï¼‰ã€ç¼“å­˜ã€æƒé™é…ç½®ç­‰å®Œå…¨éš”ç¦»ï¼Œç›¸å½“äºâ€œè½»é‡çº§æµè§ˆå™¨å®ä¾‹â€ï¼Œé€‚ç”¨äºå¤šè´¦å·å¹¶è¡Œæµ‹è¯•ã€å¤šç¯å¢ƒéš”ç¦»è¿è¡Œç­‰åœºæ™¯ã€‚"><link data-rh="true" rel="icon" href="/saodoc2/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-domain.com/saodoc2/docs/å…¶ä»–/playwright/intro16"><link data-rh="true" rel="alternate" href="https://your-domain.com/saodoc2/docs/å…¶ä»–/playwright/intro16" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://your-domain.com/saodoc2/docs/å…¶ä»–/playwright/intro16" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ğŸ’œ16.BrowserContext","item":"https://your-domain.com/saodoc2/docs/å…¶ä»–/playwright/intro16"}]}</script><link rel="stylesheet" href="/saodoc2/assets/css/styles.8098b11e.css">
<script src="/saodoc2/assets/js/runtime~main.8a34f344.js" defer="defer"></script>
<script src="/saodoc2/assets/js/main.57ee1a5d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><link rel="preload" as="image" href="/saodoc2/img/logo.svg"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">â­ï¸ å¦‚æœä½ å–œæ¬¢è¿™ä¸ªç½‘ç«™ï¼Œè¯·åœ¨ <a target="_blank" rel="noopener noreferrer" href="https://github.com/wxhzhwxhzh">GitHub</a> ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼</div><button type="button" aria-label="å…³é—­" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="ä¸»å¯¼èˆª" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/saodoc2/"><div class="navbar__logo"><img src="/saodoc2/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/saodoc2/img/logo.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ITçŸ¥è¯†å­¦ä¹ ç½‘ç«™</b></a><a class="navbar__item navbar__link" href="/saodoc2/docs/javascript/intro">JavaScript</a><a class="navbar__item navbar__link" href="/saodoc2/docs/node/node1">node</a><a class="navbar__item navbar__link" href="/saodoc2/docs/docusaurus/1">Docusaurus</a><a class="navbar__item navbar__link" href="/saodoc2/docs/å…¶ä»–/other">ğŸ“˜æ–‡æ¡£</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">æ›´å¤š</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/saodoc2/docs/javascript/intro">JavaScript</a></li><li><a class="dropdown__link" href="/saodoc2/docs/python/intro">Python</a></li><li><a href="https://cht18.aichatosclx.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">AIChatOS<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="æœç´¢" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</a><ul class="dropdown__menu"><li><a href="/saodoc2/docs/å…¶ä»–/playwright/intro16" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</a></li></ul></div><a href="https://github.com/wxhzhwxhzh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºsystem modeï¼‰"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/saodoc2/docs/å…¶ä»–/other"><span title="å…¶ä»–" class="linkLabel_WmDU">å…¶ä»–</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/saodoc2/docs/category/cdp"><span title="CDP" class="categoryLinkLabel_W154">CDP</span></a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;CDP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/saodoc2/docs/category/emoji"><span title="Emoji" class="categoryLinkLabel_W154">Emoji</span></a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Emoji&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/AI/1"><span title="AI" class="categoryLinkLabel_W154">AI</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/AgentSkills/1"><span title="AgentSkills" class="categoryLinkLabel_W154">AgentSkills</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/MySQL/1"><span title="MySQL" class="categoryLinkLabel_W154">MySQL</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/Other/1"><span title="Other" class="categoryLinkLabel_W154">Other</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/github/1"><span title="github" class="categoryLinkLabel_W154">github</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/saodoc2/docs/å…¶ä»–/playwright/intro0"><span title="playwright" class="categoryLinkLabel_W154">playwright</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro0"><span title="ğŸ’œ0" class="linkLabel_WmDU">ğŸ’œ0</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro1"><span title="ğŸ’œplaywright å…¥é—¨æ•™ç¨‹" class="linkLabel_WmDU">ğŸ’œplaywright å…¥é—¨æ•™ç¨‹</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro4"><span title=" ğŸ’œPlaywright CodeGen" class="linkLabel_WmDU"> ğŸ’œPlaywright CodeGen</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro5"><span title="ğŸ’œDPå’Œpwæ··åˆç¼–ç¨‹" class="linkLabel_WmDU">ğŸ’œDPå’Œpwæ··åˆç¼–ç¨‹</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro6"><span title="ğŸ’œsync_playwright" class="linkLabel_WmDU">ğŸ’œsync_playwright</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro7"><span title="ğŸ’œpage.route()" class="linkLabel_WmDU">ğŸ’œpage.route()</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro8"><span title="ğŸ’œroute.continue_()" class="linkLabel_WmDU">ğŸ’œroute.continue_()</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro9"><span title="ğŸ’œroute.fulfill()" class="linkLabel_WmDU">ğŸ’œroute.fulfill()</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro10"><span title="ğŸ’œç½‘ç»œåŠŸèƒ½" class="linkLabel_WmDU">ğŸ’œç½‘ç»œåŠŸèƒ½</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro11"><span title="ğŸ’œpage.on()" class="linkLabel_WmDU">ğŸ’œpage.on()</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro12"><span title="ğŸ’œ12.Route" class="linkLabel_WmDU">ğŸ’œ12.Route</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro13"><span title="ğŸ’œ13.Locator" class="linkLabel_WmDU">ğŸ’œ13.Locator</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro14"><span title="ğŸ’œ14.Page" class="linkLabel_WmDU">ğŸ’œ14.Page</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro15"><span title="ğŸ’œ15.Browser" class="linkLabel_WmDU">ğŸ’œ15.Browser</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro16"><span title="ğŸ’œ16.BrowserContext" class="linkLabel_WmDU">ğŸ’œ16.BrowserContext</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro17"><span title="ğŸ’œ17.KeyBoard" class="linkLabel_WmDU">ğŸ’œ17.KeyBoard</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro18"><span title="ğŸ’œ18.Extension" class="linkLabel_WmDU">ğŸ’œ18.Extension</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro19"><span title="ğŸ’œ19.Request" class="linkLabel_WmDU">ğŸ’œ19.Request</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/saodoc2/docs/å…¶ä»–/playwright/intro20"><span title="ğŸ’œ20.JsHandle" class="linkLabel_WmDU">ğŸ’œ20.JsHandle</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/react/1"><span title="react" class="categoryLinkLabel_W154">react</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/saodoc2/docs/å…¶ä»–/vue/1"><span title="vue" class="categoryLinkLabel_W154">vue</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/saodoc2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">playwright</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ğŸ’œ16.BrowserContext</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>Playwright for Pythonï¼šBrowserContext ç±»ä¸­æ–‡ç‰ˆæ–‡æ¡£</h1></header>
<p>BrowserContextï¼ˆæµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼‰æ˜¯ Playwright ä¸­çš„æ ¸å¿ƒéš”ç¦»å•å…ƒï¼Œç”¨äºåˆ›å»ºç‹¬ç«‹çš„æµè§ˆå™¨ç¯å¢ƒã€‚ä¸€ä¸ª Browser å®ä¾‹å¯ä»¥åŒ…å«å¤šä¸ª BrowserContextï¼Œæ¯ä¸ªä¸Šä¸‹æ–‡ä¹‹é—´çš„ Cookieã€æœ¬åœ°å­˜å‚¨ï¼ˆLocalStorage/SessionStorageï¼‰ã€ç¼“å­˜ã€æƒé™é…ç½®ç­‰å®Œå…¨éš”ç¦»ï¼Œç›¸å½“äºâ€œè½»é‡çº§æµè§ˆå™¨å®ä¾‹â€ï¼Œé€‚ç”¨äºå¤šè´¦å·å¹¶è¡Œæµ‹è¯•ã€å¤šç¯å¢ƒéš”ç¦»è¿è¡Œç­‰åœºæ™¯ã€‚</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å¿«é€Ÿç¤ºä¾‹">å¿«é€Ÿç¤ºä¾‹<a href="#å¿«é€Ÿç¤ºä¾‹" class="hash-link" aria-label="å¿«é€Ÿç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="åŒæ­¥ç¤ºä¾‹">åŒæ­¥ç¤ºä¾‹<a href="#åŒæ­¥ç¤ºä¾‹" class="hash-link" aria-label="åŒæ­¥ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="åŒæ­¥ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sync_api </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sync_playwright</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Playwright</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å¯åŠ¨æµè§ˆå™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    browser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chromium</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">headless</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ›å»ºç¬¬ä¸€ä¸ªéš”ç¦»ä¸Šä¸‹æ–‡ï¼ˆè´¦å·1ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        viewport</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;width&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1920</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;height&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        user_agent</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        locale</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;zh-CN&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#username&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#password&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;123456&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#login&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;è´¦å·1ç™»å½•åçš„Cookieï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> context1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ›å»ºç¬¬äºŒä¸ªéš”ç¦»ä¸Šä¸‹æ–‡ï¼ˆè´¦å·2ï¼Œä¸è´¦å·1äº’ä¸å¹²æ‰°ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#username&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;user2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#password&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;654321&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#login&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;è´¦å·2ç™»å½•åçš„Cookieï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> context2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å…³é—­èµ„æº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> sync_playwright</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="å¼‚æ­¥ç¤ºä¾‹">å¼‚æ­¥ç¤ºä¾‹<a href="#å¼‚æ­¥ç¤ºä¾‹" class="hash-link" aria-label="å¼‚æ­¥ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="å¼‚æ­¥ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> asyncio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">async_api </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> async_playwright</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Playwright</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å¯åŠ¨ Firefox æµè§ˆå™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    browser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">firefox</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åˆ›å»ºå¸¦æƒé™é…ç½®çš„ä¸Šä¸‹æ–‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    context </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        geolocation</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;latitude&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">39.9042</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;longitude&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">116.4074</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        permissions</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;geolocation&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;notifications&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ä¸Šä¸‹æ–‡å½“å‰URLï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ä¿å­˜ä¸Šä¸‹æ–‡çŠ¶æ€ï¼ˆCookieã€æœ¬åœ°å­˜å‚¨ç­‰ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;storage.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å…³é—­èµ„æº</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> async_playwright</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ ¸å¿ƒæ–¹æ³•">æ ¸å¿ƒæ–¹æ³•<a href="#æ ¸å¿ƒæ–¹æ³•" class="hash-link" aria-label="æ ¸å¿ƒæ–¹æ³•çš„ç›´æ¥é“¾æ¥" title="æ ¸å¿ƒæ–¹æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="add_cookies">add_cookies<a href="#add_cookies" class="hash-link" aria-label="add_cookiesçš„ç›´æ¥é“¾æ¥" title="add_cookiesçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>å‘å½“å‰ä¸Šä¸‹æ–‡æ·»åŠ  Cookieï¼ŒCookie ä¼šå¯¹è¯¥ä¸Šä¸‹æ–‡ä¸‹çš„æ‰€æœ‰é¡µé¢ç”Ÿæ•ˆã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;auth_token&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;value&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;abc123def456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;domain&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;path&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;expires&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1735689600</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è¿‡æœŸæ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;httpOnly&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;secure&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="å‚æ•°è¯´æ˜">å‚æ•°è¯´æ˜<a href="#å‚æ•°è¯´æ˜" class="hash-link" aria-label="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<ul>
<li class=""><code>cookies</code>ï¼šCookie åˆ—è¡¨ï¼Œæ¯ä¸ª Cookie ä¸ºå­—å…¸æ ¼å¼ï¼Œå¿…å¡«å­—æ®µåŒ…æ‹¬ <code>name</code>ã€<code>value</code>ã€<code>domain</code>ã€<code>path</code>ã€‚</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="add_init_script">add_init_script<a href="#add_init_script" class="hash-link" aria-label="add_init_scriptçš„ç›´æ¥é“¾æ¥" title="add_init_scriptçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>åœ¨ä¸Šä¸‹æ–‡å†…æ‰€æœ‰é¡µé¢å¯¼èˆªæˆ–å­æ¡†æ¶é™„åŠ æ—¶æ³¨å…¥åˆå§‹åŒ–è„šæœ¬ï¼Œè„šæœ¬åœ¨é¡µé¢è‡ªèº«è„šæœ¬æ‰§è¡Œå‰è¿è¡Œï¼ˆå…¨å±€ç”Ÿæ•ˆï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-1">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-1" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šé€šè¿‡æ–‡ä»¶æ³¨å…¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_init_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;./global-preload.js&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šç›´æ¥æ³¨å…¥è„šæœ¬å­—ç¬¦ä¸²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_init_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;window.customConfig = { env: &#x27;test&#x27; };&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_init_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;./global-preload.js&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_init_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;window.customConfig = { env: &#x27;test&#x27; };&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="å‚æ•°è¯´æ˜-1">å‚æ•°è¯´æ˜<a href="#å‚æ•°è¯´æ˜-1" class="hash-link" aria-label="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<ul>
<li class=""><code>path</code>ï¼šJavaScript æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹å½“å‰å·¥ä½œç›®å½•ï¼‰</li>
<li class=""><code>script</code>ï¼šåŸå§‹ JavaScript å­—ç¬¦ä¸²</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="add_locator_handler">add_locator_handler<a href="#add_locator_handler" class="hash-link" aria-label="add_locator_handlerçš„ç›´æ¥é“¾æ¥" title="add_locator_handlerçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>ä¸ºä¸Šä¸‹æ–‡å†…æ‰€æœ‰é¡µé¢æ³¨å†Œæµ®å±‚å¤„ç†é€»è¾‘ï¼Œæ£€æµ‹åˆ°æŒ‡å®šå®šä½å™¨åŒ¹é…çš„å…ƒç´ æ—¶è‡ªåŠ¨æ‰§è¡Œå¤„ç†å‡½æ•°ï¼ˆå…¨å±€æµ®å±‚æ‹¦æˆªï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-2">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-2" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šå…¨å±€å…³é—­ç™»å½•å¼¹çª—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handle_login_modal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pages</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è·å–ä¸Šä¸‹æ–‡å½“å‰æ´»è·ƒé¡µé¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;button&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;å…³é—­&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_locator_handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    locator</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;div.login-modal&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    handler</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">handle_login_modal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    times</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># æœ€å¤šå¤„ç†3æ¬¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handle_login_modal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pages</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;button&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;å…³é—­&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_locator_handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    locator</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;div.login-modal&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    handler</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">handle_login_modal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="browser">browser<a href="#browser" class="hash-link" aria-label="browserçš„ç›´æ¥é“¾æ¥" title="browserçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è·å–å½“å‰ä¸Šä¸‹æ–‡æ‰€å±çš„ Browser å®ä¾‹ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•">ç”¨æ³•<a href="#ç”¨æ³•" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parent_browser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">browser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;æ‰€å±æµè§ˆå™¨ç±»å‹ï¼š</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">parent_browser</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">browser_type</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parent_browser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">browser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;æ‰€å±æµè§ˆå™¨ç±»å‹ï¼š</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">parent_browser</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">browser_type</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¿”å›å€¼">è¿”å›å€¼<a href="#è¿”å›å€¼" class="hash-link" aria-label="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" title="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<p><code>Browser</code> å®ä¾‹ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="clear_cookies">clear_cookies<a href="#clear_cookies" class="hash-link" aria-label="clear_cookiesçš„ç›´æ¥é“¾æ¥" title="clear_cookiesçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>æ¸…ç©ºå½“å‰ä¸Šä¸‹æ–‡çš„æ‰€æœ‰ Cookieã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-1">ç”¨æ³•<a href="#ç”¨æ³•-1" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="clear_permissions">clear_permissions<a href="#clear_permissions" class="hash-link" aria-label="clear_permissionsçš„ç›´æ¥é“¾æ¥" title="clear_permissionsçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>æ¸…ç©ºå½“å‰ä¸Šä¸‹æ–‡çš„æ‰€æœ‰å·²æˆäºˆæƒé™ï¼ˆå¦‚åœ°ç†ä½ç½®ã€é€šçŸ¥æƒé™ç­‰ï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-2">ç”¨æ³•<a href="#ç”¨æ³•-2" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear_permissions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">clear_permissions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="close">close<a href="#close" class="hash-link" aria-label="closeçš„ç›´æ¥é“¾æ¥" title="closeçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>å…³é—­å½“å‰æµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶å…³é—­è¯¥ä¸Šä¸‹æ–‡ä¸‹çš„æ‰€æœ‰ Page å®ä¾‹ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-3">ç”¨æ³•<a href="#ç”¨æ³•-3" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¯´æ˜">è¯´æ˜<a href="#è¯´æ˜" class="hash-link" aria-label="è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<ul>
<li class="">å…³é—­åä¸Šä¸‹æ–‡ä¸å¯å†ä½¿ç”¨ï¼Œæœªæ‰‹åŠ¨å…³é—­çš„é¡µé¢ä¼šè¢«è‡ªåŠ¨æ¸…ç†</li>
<li class="">è‹¥ä¸ºé»˜è®¤ä¸Šä¸‹æ–‡ï¼Œå…³é—­åä¸ä¼šå½±å“ Browser å®ä¾‹æœ¬èº«</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="cookies">cookies<a href="#cookies" class="hash-link" aria-label="cookiesçš„ç›´æ¥é“¾æ¥" title="cookiesçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è·å–å½“å‰ä¸Šä¸‹æ–‡çš„æ‰€æœ‰ Cookieï¼Œè¿”å› Cookie åˆ—è¡¨ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-4">ç”¨æ³•<a href="#ç”¨æ³•-4" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># æŒ‰ URL ç­›é€‰ Cookie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filtered_cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://test.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;å½“å‰Cookieï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> all_cookies</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">filtered_cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="å‚æ•°è¯´æ˜-2">å‚æ•°è¯´æ˜<a href="#å‚æ•°è¯´æ˜-2" class="hash-link" aria-label="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<ul>
<li class=""><code>urls</code>ï¼ˆå¯é€‰ï¼‰ï¼šURL åˆ—è¡¨ï¼Œç”¨äºç­›é€‰ä»…å¯¹è¿™äº› URL ç”Ÿæ•ˆçš„ Cookieã€‚</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¿”å›å€¼-1">è¿”å›å€¼<a href="#è¿”å›å€¼-1" class="hash-link" aria-label="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" title="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<p>Cookie åˆ—è¡¨ï¼ˆæ¯ä¸ª Cookie ä¸ºå­—å…¸æ ¼å¼ï¼‰ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="expose_function">expose_function<a href="#expose_function" class="hash-link" aria-label="expose_functionçš„ç›´æ¥é“¾æ¥" title="expose_functionçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>å°† Python å‡½æ•°æš´éœ²ç»™æµè§ˆå™¨ä¸Šä¸‹æ–‡çš„ JavaScript ç¯å¢ƒï¼Œå¯åœ¨é¡µé¢ä¸­é€šè¿‡ <code>window.&lt;å‡½æ•°å&gt;</code> è°ƒç”¨ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-3">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-3" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šæš´éœ²Pythonå‡½æ•°ç»™JS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculate_sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expose_function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;jsCalculateSum&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> calculate_sum</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># åœ¨é¡µé¢ä¸­è°ƒç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">evaluate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;window.jsCalculateSum(10, 20)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;JSè°ƒç”¨Pythonå‡½æ•°ç»“æœï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># è¾“å‡º 30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculate_sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expose_function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;jsCalculateSum&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> calculate_sum</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">evaluate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;window.jsCalculateSum(10, 20)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;JSè°ƒç”¨Pythonå‡½æ•°ç»“æœï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="grant_permissions">grant_permissions<a href="#grant_permissions" class="hash-link" aria-label="grant_permissionsçš„ç›´æ¥é“¾æ¥" title="grant_permissionsçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>ä¸ºå½“å‰ä¸Šä¸‹æ–‡æˆäºˆæŒ‡å®šæƒé™ï¼Œæƒé™å¯¹ä¸Šä¸‹æ–‡å†…æ‰€æœ‰é¡µé¢ç”Ÿæ•ˆã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-4">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-4" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šæˆäºˆåœ°ç†ä½ç½®å’Œé€šçŸ¥æƒé™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grant_permissions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    permissions</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;geolocation&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;notifications&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ä»…å¯¹è¯¥åŸŸåç”Ÿæ•ˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">grant_permissions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    permissions</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;geolocation&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="å‚æ•°è¯´æ˜-3">å‚æ•°è¯´æ˜<a href="#å‚æ•°è¯´æ˜-3" class="hash-link" aria-label="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="å‚æ•°è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<ul>
<li class=""><code>permissions</code>ï¼šæƒé™åˆ—è¡¨ï¼ˆæ”¯æŒ <code>geolocation</code>ã€<code>notifications</code>ã€<code>camera</code>ã€<code>microphone</code> ç­‰ï¼‰</li>
<li class=""><code>origin</code>ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šæƒé™ç”Ÿæ•ˆçš„åŸŸåï¼Œé»˜è®¤å¯¹æ‰€æœ‰åŸŸåç”Ÿæ•ˆ</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new_page">new_page<a href="#new_page" class="hash-link" aria-label="new_pageçš„ç›´æ¥é“¾æ¥" title="new_pageçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>åœ¨å½“å‰ä¸Šä¸‹æ–‡åˆ›å»ºä¸€ä¸ªæ–°çš„ Pageï¼ˆæ ‡ç­¾é¡µï¼‰ï¼Œé¡µé¢ç»§æ‰¿ä¸Šä¸‹æ–‡çš„æ‰€æœ‰é…ç½®ï¼ˆè§†å£ã€Cookieã€æƒé™ç­‰ï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-5">ç”¨æ³•<a href="#ç”¨æ³•-5" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># åŒä¸€ä¸Šä¸‹æ–‡ä¸‹çš„ç¬¬äºŒä¸ªé¡µé¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¿”å›å€¼-2">è¿”å›å€¼<a href="#è¿”å›å€¼-2" class="hash-link" aria-label="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" title="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<p><code>Page</code> å®ä¾‹ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new_browser_cdp_session">new_browser_cdp_session<a href="#new_browser_cdp_session" class="hash-link" aria-label="new_browser_cdp_sessionçš„ç›´æ¥é“¾æ¥" title="new_browser_cdp_sessionçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>åˆ›å»ºä¸Šä¸‹æ–‡çº§åˆ«çš„ Chrome DevTools Protocol (CDP) ä¼šè¯ï¼Œç”¨äºå¯¹ä¸Šä¸‹æ–‡è¿›è¡Œåº•å±‚æ§åˆ¶ï¼ˆä»…æ”¯æŒ Chromium å†…æ ¸ï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-5">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-5" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cdp_session </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_browser_cdp_session</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cdp_session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Network.enable&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># æ‹¦æˆªç½‘ç»œè¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cdp_session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Network.setRequestInterception&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;patterns&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;urlPattern&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cdp_session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">detach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cdp_session </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_browser_cdp_session</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> cdp_session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Network.enable&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> cdp_session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Network.setRequestInterception&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;patterns&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;urlPattern&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> cdp_session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">detach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¯´æ˜-1">è¯´æ˜<a href="#è¯´æ˜-1" class="hash-link" aria-label="è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<ul>
<li class="">ä»…é€‚ç”¨äº Chromium æµè§ˆå™¨ï¼ŒFirefox/WebKit ä¸æ”¯æŒ</li>
<li class="">ç”¨äºå®ç° Playwright é«˜å±‚ API æœªè¦†ç›–çš„è‡ªå®šä¹‰æ“ä½œ</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pages">pages<a href="#pages" class="hash-link" aria-label="pagesçš„ç›´æ¥é“¾æ¥" title="pagesçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è·å–å½“å‰ä¸Šä¸‹æ–‡ä¸‹æ‰€æœ‰æ´»è·ƒçš„ Page å®ä¾‹åˆ—è¡¨ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-6">ç”¨æ³•<a href="#ç”¨æ³•-6" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_pages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;ä¸Šä¸‹æ–‡å½“å‰æœ‰ </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation builtin">len</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">all_pages</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> ä¸ªé¡µé¢&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> page </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> all_pages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;é¡µé¢URLï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all_pages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;ä¸Šä¸‹æ–‡å½“å‰æœ‰ </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation builtin">len</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">all_pages</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> ä¸ªé¡µé¢&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="è¿”å›å€¼-3">è¿”å›å€¼<a href="#è¿”å›å€¼-3" class="hash-link" aria-label="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" title="è¿”å›å€¼çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<p><code>List[Page]</code>ï¼ˆé¡µé¢å®ä¾‹åˆ—è¡¨ï¼‰ã€‚</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="route">route<a href="#route" class="hash-link" aria-label="routeçš„ç›´æ¥é“¾æ¥" title="routeçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>æ‹¦æˆªå½“å‰ä¸Šä¸‹æ–‡å†…æ‰€æœ‰é¡µé¢çš„ç½‘ç»œè¯·æ±‚ï¼Œæ”¯æŒæŒ‰ URL æ¨¡å¼åŒ¹é…å¹¶è‡ªå®šä¹‰å¤„ç†é€»è¾‘ï¼ˆå…¨å±€è¯·æ±‚æ‹¦æˆªï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-6">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-6" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šæ‹¦æˆªæ‰€æœ‰å›¾ç‰‡è¯·æ±‚å¹¶è¿”å›è‡ªå®šä¹‰å›¾ç‰‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handle_image_route</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">route</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ä¸­æ­¢å›¾ç‰‡è¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># æˆ–è¿”å›è‡ªå®šä¹‰å“åº”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># route.fulfill(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     status=200,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     content_type=&quot;image/png&quot;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#     body=open(&quot;custom-image.png&quot;, &quot;rb&quot;).read()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># )</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">route</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.{png,jpg,jpeg,gif}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handle_image_route</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">handle_image_route</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">route</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">route</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.{png,jpg,jpeg,gif}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handle_image_route</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_default_navigation_timeout">set_default_navigation_timeout<a href="#set_default_navigation_timeout" class="hash-link" aria-label="set_default_navigation_timeoutçš„ç›´æ¥é“¾æ¥" title="set_default_navigation_timeoutçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è®¾ç½®å½“å‰ä¸Šä¸‹æ–‡æ‰€æœ‰é¡µé¢çš„é»˜è®¤å¯¼èˆªè¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¦†ç›– Playwright å…¨å±€é»˜è®¤å€¼ï¼ˆ30000 æ¯«ç§’ï¼‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-7">ç”¨æ³•<a href="#ç”¨æ³•-7" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šè®¾ç½®å¯¼èˆªè¶…æ—¶ä¸º10ç§’</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_default_navigation_timeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_default_navigation_timeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_default_timeout">set_default_timeout<a href="#set_default_timeout" class="hash-link" aria-label="set_default_timeoutçš„ç›´æ¥é“¾æ¥" title="set_default_timeoutçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è®¾ç½®å½“å‰ä¸Šä¸‹æ–‡æ‰€æœ‰æ“ä½œçš„é»˜è®¤è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼ŒåŒ…æ‹¬å…ƒç´ æŸ¥æ‰¾ã€ç‚¹å‡»ç­‰æ“ä½œï¼Œè¦†ç›–å…¨å±€é»˜è®¤å€¼ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-8">ç”¨æ³•<a href="#ç”¨æ³•-8" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šè®¾ç½®é»˜è®¤æ“ä½œè¶…æ—¶ä¸º5ç§’</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_default_timeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_default_timeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5000</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_extra_http_headers">set_extra_http_headers<a href="#set_extra_http_headers" class="hash-link" aria-label="set_extra_http_headersçš„ç›´æ¥é“¾æ¥" title="set_extra_http_headersçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>ä¸ºå½“å‰ä¸Šä¸‹æ–‡æ‰€æœ‰é¡µé¢çš„ç½‘ç»œè¯·æ±‚è®¾ç½®é¢å¤–çš„ HTTP è¯·æ±‚å¤´ï¼Œå…¨å±€ç”Ÿæ•ˆã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-7">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-7" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">headers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;X-Test-Header&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Playwright-Test&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Bearer abc123&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_extra_http_headers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_extra_http_headers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">headers</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_geolocation">set_geolocation<a href="#set_geolocation" class="hash-link" aria-label="set_geolocationçš„ç›´æ¥é“¾æ¥" title="set_geolocationçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è®¾ç½®å½“å‰ä¸Šä¸‹æ–‡çš„åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œéœ€å…ˆæˆäºˆ <code>geolocation</code> æƒé™ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-8">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-8" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_geolocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;latitude&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31.2304</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;longitude&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">121.4737</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;accuracy&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># å®šä½ç²¾åº¦ï¼ˆç±³ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_geolocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;latitude&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31.2304</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;longitude&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">121.4737</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_locale">set_locale<a href="#set_locale" class="hash-link" aria-label="set_localeçš„ç›´æ¥é“¾æ¥" title="set_localeçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è®¾ç½®å½“å‰ä¸Šä¸‹æ–‡çš„è¯­è¨€ç¯å¢ƒï¼ˆå¦‚ <code>zh-CN</code>ã€<code>en-US</code>ï¼‰ï¼Œå½±å“é¡µé¢çš„è¯­è¨€æ¸²æŸ“å’Œ HTTP è¯·æ±‚å¤´çš„ <code>Accept-Language</code>ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-9">ç”¨æ³•<a href="#ç”¨æ³•-9" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_locale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;zh-CN&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_locale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;zh-CN&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_offline">set_offline<a href="#set_offline" class="hash-link" aria-label="set_offlineçš„ç›´æ¥é“¾æ¥" title="set_offlineçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>åˆ‡æ¢å½“å‰ä¸Šä¸‹æ–‡çš„ç¦»çº¿çŠ¶æ€ï¼Œæ¨¡æ‹Ÿç½‘ç»œæ–­å¼€/æ¢å¤åœºæ™¯ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-9">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-9" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šå¼€å¯ç¦»çº¿æ¨¡å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_offline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># æ¢å¤ç½‘ç»œè¿æ¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_offline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_offline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_offline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set_storage_state">set_storage_state<a href="#set_storage_state" class="hash-link" aria-label="set_storage_stateçš„ç›´æ¥é“¾æ¥" title="set_storage_stateçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>åŠ è½½å·²ä¿å­˜çš„å­˜å‚¨çŠ¶æ€ï¼ˆCookieã€LocalStorageã€SessionStorage ç­‰ï¼‰ï¼Œç”¨äºæ¢å¤ä¸Šä¸‹æ–‡çš„ç™»å½•çŠ¶æ€ç­‰ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-10">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-10" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šä»æ–‡ä»¶åŠ è½½å­˜å‚¨çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;storage.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ä»å­—å…¸åŠ è½½å­˜å‚¨çŠ¶æ€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;cookies&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;origins&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;storage.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="storage_state">storage_state<a href="#storage_state" class="hash-link" aria-label="storage_stateçš„ç›´æ¥é“¾æ¥" title="storage_stateçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>è·å–å½“å‰ä¸Šä¸‹æ–‡çš„å­˜å‚¨çŠ¶æ€ï¼ˆCookieã€LocalStorageã€SessionStorage ç­‰ï¼‰ï¼Œå¯ä¿å­˜ä¸ºæ–‡ä»¶æˆ–å­—å…¸ç”¨äºåç»­æ¢å¤ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-11">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-11" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šä¿å­˜åˆ°æ–‡ä»¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;storage.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># è·å–å­˜å‚¨çŠ¶æ€å­—å…¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;storage.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unroute">unroute<a href="#unroute" class="hash-link" aria-label="unrouteçš„ç›´æ¥é“¾æ¥" title="unrouteçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>ç§»é™¤ä¹‹å‰é€šè¿‡ <code>route</code> æ³¨å†Œçš„è¯·æ±‚æ‹¦æˆªè§„åˆ™ï¼Œåœæ­¢æ‹¦æˆªæŒ‡å®šæ¨¡å¼çš„ç½‘ç»œè¯·æ±‚ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•-10">ç”¨æ³•<a href="#ç”¨æ³•-10" class="hash-link" aria-label="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unroute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.{png,jpg,jpeg}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ç§»é™¤æŒ‡å®šå¤„ç†å‡½æ•°çš„æ‹¦æˆªè§„åˆ™</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unroute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.png&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handle_image_route</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unroute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.{png,jpg,jpeg}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unroute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;**/*.png&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> handle_image_route</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="wait_for_event">wait_for_event<a href="#wait_for_event" class="hash-link" aria-label="wait_for_eventçš„ç›´æ¥é“¾æ¥" title="wait_for_eventçš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h3>
<p>ç­‰å¾…ä¸Šä¸‹æ–‡è§¦å‘æŒ‡å®šäº‹ä»¶ï¼Œå¹¶è¿”å›äº‹ä»¶ç›¸å…³æ•°æ®ï¼Œæ”¯æŒè¶…æ—¶é…ç½®ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="ç”¨æ³•ç¤ºä¾‹-12">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹-12" class="hash-link" aria-label="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="ç”¨æ³•ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># åŒæ­¥ï¼šç­‰å¾…æ–°é¡µé¢åˆ›å»º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new_page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wait_for_event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;page&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;æ–°é¡µé¢URLï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> new_page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># å¼‚æ­¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">new_page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">wait_for_event</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;page&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;æ–°é¡µé¢URLï¼š&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> new_page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="æ ¸å¿ƒå±æ€§">æ ¸å¿ƒå±æ€§<a href="#æ ¸å¿ƒå±æ€§" class="hash-link" aria-label="æ ¸å¿ƒå±æ€§çš„ç›´æ¥é“¾æ¥" title="æ ¸å¿ƒå±æ€§çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<table><thead><tr><th>å±æ€§</th><th>ç”¨é€”</th><th>è¿”å›ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>browser</code></td><td>è·å–æ‰€å±æµè§ˆå™¨å®ä¾‹</td><td>Browser</td><td>æ‰€æœ‰ç‰ˆæœ¬æ”¯æŒ</td></tr><tr><td><code>is_closed</code></td><td>æ£€æŸ¥ä¸Šä¸‹æ–‡æ˜¯å¦å·²å…³é—­</td><td>bool</td><td>æ‰€æœ‰ç‰ˆæœ¬æ”¯æŒ</td></tr><tr><td><code>pages</code></td><td>è·å–å½“å‰æ´»è·ƒé¡µé¢åˆ—è¡¨</td><td>List[Page]</td><td>æ‰€æœ‰ç‰ˆæœ¬æ”¯æŒ</td></tr><tr><td><code>viewport_size</code></td><td>è·å–/è®¾ç½®ä¸Šä¸‹æ–‡é»˜è®¤è§†å£å¤§å°</td><td>Dictï¼ˆwidth/heightï¼‰</td><td>å¯ç›´æ¥èµ‹å€¼ä¿®æ”¹ï¼Œå¦‚ <code>context.viewport_size = {&quot;width&quot;: 1280, &quot;height&quot;: 720}</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="å¸¸ç”¨äº‹ä»¶">å¸¸ç”¨äº‹ä»¶<a href="#å¸¸ç”¨äº‹ä»¶" class="hash-link" aria-label="å¸¸ç”¨äº‹ä»¶çš„ç›´æ¥é“¾æ¥" title="å¸¸ç”¨äº‹ä»¶çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<table><thead><tr><th>äº‹ä»¶</th><th>è§¦å‘æ—¶æœº</th><th>äº‹ä»¶æ•°æ®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>close</code></td><td>ä¸Šä¸‹æ–‡è¢«å…³é—­æ—¶</td><td>BrowserContext</td><td>å…³é—­åè§¦å‘</td></tr><tr><td><code>page</code></td><td>ä¸Šä¸‹æ–‡å†…åˆ›å»ºæ–°é¡µé¢æ—¶</td><td>Page</td><td>åŒ…æ‹¬ <code>new_page()</code> æˆ–é¡µé¢è·³è½¬æ‰“å¼€çš„æ–°é¡µé¢</td></tr><tr><td><code>request</code></td><td>ä¸Šä¸‹æ–‡å†…é¡µé¢å‘èµ·ç½‘ç»œè¯·æ±‚æ—¶</td><td>Request</td><td>å…¨å±€è¯·æ±‚äº‹ä»¶</td></tr><tr><td><code>response</code></td><td>ä¸Šä¸‹æ–‡å†…é¡µé¢æ”¶åˆ°ç½‘ç»œå“åº”æ—¶</td><td>Response</td><td>å…¨å±€å“åº”äº‹ä»¶</td></tr><tr><td><code>route</code></td><td>ç½‘ç»œè¯·æ±‚åŒ¹é… <code>route</code> æ‹¦æˆªè§„åˆ™æ—¶</td><td>Route</td><td>ç”¨äºè‡ªå®šä¹‰è¯·æ±‚å¤„ç†</td></tr><tr><td><code>download</code></td><td>ä¸Šä¸‹æ–‡å†…é¡µé¢å¼€å§‹ä¸‹è½½æ–‡ä»¶æ—¶</td><td>Download</td><td>å…¨å±€ä¸‹è½½äº‹ä»¶</td></tr><tr><td><code>dialog</code></td><td>ä¸Šä¸‹æ–‡å†…é¡µé¢å¼¹å‡ºå¯¹è¯æ¡†æ—¶ï¼ˆalert/confirm ç­‰ï¼‰</td><td>Dialog</td><td>å…¨å±€å¼¹çª—äº‹ä»¶</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="é‡è¦è¯´æ˜">é‡è¦è¯´æ˜<a href="#é‡è¦è¯´æ˜" class="hash-link" aria-label="é‡è¦è¯´æ˜çš„ç›´æ¥é“¾æ¥" title="é‡è¦è¯´æ˜çš„ç›´æ¥é“¾æ¥" translate="no">â€‹</a></h2>
<ol>
<li class=""><strong>éš”ç¦»æ€§æ ¸å¿ƒ</strong>ï¼šBrowserContext æ˜¯ Playwright å®ç°ç¯å¢ƒéš”ç¦»çš„æ ¸å¿ƒï¼Œä¸åŒä¸Šä¸‹æ–‡ä¹‹é—´æ— ä»»ä½•çŠ¶æ€å…±äº«ï¼Œé€‚åˆå¤šè´¦å·å¹¶è¡Œæµ‹è¯•ã€å¤šåœºæ™¯éš”ç¦»éªŒè¯ã€‚</li>
<li class=""><strong>çŠ¶æ€å¤ç”¨</strong>ï¼šé€šè¿‡ <code>storage_state()</code> ä¿å­˜ç™»å½•çŠ¶æ€ï¼Œ<code>set_storage_state()</code> æ¢å¤çŠ¶æ€ï¼Œå¯è·³è¿‡é‡å¤ç™»å½•æµç¨‹ï¼Œæå‡æµ‹è¯•æ•ˆç‡ã€‚</li>
<li class=""><strong>å…¨å±€é…ç½®</strong>ï¼šä¸Šä¸‹æ–‡çº§åˆ«çš„é…ç½®ï¼ˆå¦‚è¶…æ—¶æ—¶é—´ã€HTTP å¤´ã€æƒé™ï¼‰ä¼šç»§æ‰¿ç»™æ‰€æœ‰å­é¡µé¢ï¼Œæ— éœ€åœ¨æ¯ä¸ªé¡µé¢å•ç‹¬é…ç½®ã€‚</li>
<li class=""><strong>èµ„æºä¼˜åŒ–</strong>ï¼šç›¸æ¯”å¯åŠ¨å¤šä¸ª Browser å®ä¾‹ï¼Œåˆ›å»ºå¤šä¸ª BrowserContext æ›´èŠ‚çœç³»ç»Ÿèµ„æºï¼Œæ˜¯å¤šç¯å¢ƒæµ‹è¯•çš„é¦–é€‰æ–¹æ¡ˆã€‚</li>
<li class=""><strong>é»˜è®¤ä¸Šä¸‹æ–‡</strong>ï¼šè‹¥ç›´æ¥é€šè¿‡ <code>browser.new_page()</code> åˆ›å»ºé¡µé¢ï¼ŒPlaywright ä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤ä¸Šä¸‹æ–‡ï¼Œå¯é€šè¿‡ <code>browser.context</code> è·å–ã€‚</li>
</ol>
<hr>
<p>è¦ä¸è¦æˆ‘å¸®ä½ æ•´ç† <strong>BrowserContext å®æˆ˜åœºæ™¯æ¨¡æ¿</strong>ï¼ŒåŒ…å«å¤šè´¦å·å¹¶è¡Œæµ‹è¯•ã€ç™»å½•çŠ¶æ€å¤ç”¨ã€å…¨å±€è¯·æ±‚æ‹¦æˆªç­‰å¯ç›´æ¥è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Ÿ</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/saodoc2/docs/å…¶ä»–/playwright/intro15"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">ğŸ’œ15.Browser</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/saodoc2/docs/å…¶ä»–/playwright/intro17"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">ğŸ’œ17.KeyBoard</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¿«é€Ÿç¤ºä¾‹" class="table-of-contents__link toc-highlight">å¿«é€Ÿç¤ºä¾‹</a><ul><li><a href="#åŒæ­¥ç¤ºä¾‹" class="table-of-contents__link toc-highlight">åŒæ­¥ç¤ºä¾‹</a></li><li><a href="#å¼‚æ­¥ç¤ºä¾‹" class="table-of-contents__link toc-highlight">å¼‚æ­¥ç¤ºä¾‹</a></li></ul></li><li><a href="#æ ¸å¿ƒæ–¹æ³•" class="table-of-contents__link toc-highlight">æ ¸å¿ƒæ–¹æ³•</a><ul><li><a href="#add_cookies" class="table-of-contents__link toc-highlight">add_cookies</a></li><li><a href="#add_init_script" class="table-of-contents__link toc-highlight">add_init_script</a></li><li><a href="#add_locator_handler" class="table-of-contents__link toc-highlight">add_locator_handler</a></li><li><a href="#browser" class="table-of-contents__link toc-highlight">browser</a></li><li><a href="#clear_cookies" class="table-of-contents__link toc-highlight">clear_cookies</a></li><li><a href="#clear_permissions" class="table-of-contents__link toc-highlight">clear_permissions</a></li><li><a href="#close" class="table-of-contents__link toc-highlight">close</a></li><li><a href="#cookies" class="table-of-contents__link toc-highlight">cookies</a></li><li><a href="#expose_function" class="table-of-contents__link toc-highlight">expose_function</a></li><li><a href="#grant_permissions" class="table-of-contents__link toc-highlight">grant_permissions</a></li><li><a href="#new_page" class="table-of-contents__link toc-highlight">new_page</a></li><li><a href="#new_browser_cdp_session" class="table-of-contents__link toc-highlight">new_browser_cdp_session</a></li><li><a href="#pages" class="table-of-contents__link toc-highlight">pages</a></li><li><a href="#route" class="table-of-contents__link toc-highlight">route</a></li><li><a href="#set_default_navigation_timeout" class="table-of-contents__link toc-highlight">set_default_navigation_timeout</a></li><li><a href="#set_default_timeout" class="table-of-contents__link toc-highlight">set_default_timeout</a></li><li><a href="#set_extra_http_headers" class="table-of-contents__link toc-highlight">set_extra_http_headers</a></li><li><a href="#set_geolocation" class="table-of-contents__link toc-highlight">set_geolocation</a></li><li><a href="#set_locale" class="table-of-contents__link toc-highlight">set_locale</a></li><li><a href="#set_offline" class="table-of-contents__link toc-highlight">set_offline</a></li><li><a href="#set_storage_state" class="table-of-contents__link toc-highlight">set_storage_state</a></li><li><a href="#storage_state" class="table-of-contents__link toc-highlight">storage_state</a></li><li><a href="#unroute" class="table-of-contents__link toc-highlight">unroute</a></li><li><a href="#wait_for_event" class="table-of-contents__link toc-highlight">wait_for_event</a></li></ul></li><li><a href="#æ ¸å¿ƒå±æ€§" class="table-of-contents__link toc-highlight">æ ¸å¿ƒå±æ€§</a></li><li><a href="#å¸¸ç”¨äº‹ä»¶" class="table-of-contents__link toc-highlight">å¸¸ç”¨äº‹ä»¶</a></li><li><a href="#é‡è¦è¯´æ˜" class="table-of-contents__link toc-highlight">é‡è¦è¯´æ˜</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 ITçŸ¥è¯†å­¦ä¹ ç½‘ç«™</div></div></div></footer></div>
</body>
</html>