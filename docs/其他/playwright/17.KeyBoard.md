---
id: intro17
title: 'ğŸ’œ17.KeyBoard'
---

# Playwright for Pythonï¼šKeyboard ç±»ä¸­æ–‡ç‰ˆæ–‡æ¡£
Keyboard ç±»ç”¨äºæ¨¡æ‹Ÿæµè§ˆå™¨ä¸­çš„é”®ç›˜è¾“å…¥æ“ä½œï¼Œæ”¯æŒå•ä¸ªæŒ‰é”®è§¦å‘ã€ç»„åˆé”®ï¼ˆå¦‚ Ctrl+Cï¼‰ã€æ–‡æœ¬è¿ç»­è¾“å…¥ç­‰åœºæ™¯ï¼Œè¿˜åŸçœŸå®ç”¨æˆ·çš„é”®ç›˜æ“ä½œè¡Œä¸ºã€‚Keyboard å®ä¾‹å¯é€šè¿‡ `page.keyboard` æˆ– `frame.keyboard` è·å–ï¼Œæ“ä½œä½œç”¨äºå½“å‰æ´»è·ƒçš„é¡µé¢/æ¡†æ¶ã€‚

## å¿«é€Ÿç¤ºä¾‹
### åŒæ­¥ç¤ºä¾‹
```python
from playwright.sync_api import sync_playwright, Playwright

def run(playwright: Playwright):
    browser = playwright.chromium.launch(headless=False)
    context = browser.new_context()
    page = context.new_page()
    page.goto("https://example.com")
    
    # è·å–é”®ç›˜å®ä¾‹
    keyboard = page.keyboard
    
    # ç‚¹å‡»è¾“å…¥æ¡†æ¿€æ´»
    page.click("input[type='text']")
    # è¾“å…¥æ–‡æœ¬
    keyboard.type("Hello Playwright!")
    # ç»„åˆé”®ï¼šå…¨é€‰ï¼ˆCtrl+Aï¼‰
    keyboard.press("Control+A")
    # ç»„åˆé”®ï¼šå¤åˆ¶ï¼ˆCtrl+Cï¼‰
    keyboard.press("Control+C")
    # ç»„åˆé”®ï¼šç²˜è´´ï¼ˆCtrl+Vï¼‰
    keyboard.press("Control+V")
    # æŒ‰ä¸‹å¹¶é‡Šæ”¾å•ä¸ªæŒ‰é”®ï¼ˆEnterï¼‰
    keyboard.down("Enter")
    keyboard.up("Enter")

    browser.close()

with sync_playwright() as playwright:
    run(playwright)
```

### å¼‚æ­¥ç¤ºä¾‹
```python
import asyncio
from playwright.async_api import async_playwright, Playwright

async def run(playwright: Playwright):
    browser = await playwright.firefox.launch()
    context = await browser.new_context()
    page = await context.new_page()
    await page.goto("https://example.com")
    
    # è·å–é”®ç›˜å®ä¾‹
    keyboard = page.keyboard
    
    # æ¿€æ´»è¾“å…¥æ¡†å¹¶è¾“å…¥å¯†ç 
    await page.click("input[type='password']")
    await keyboard.type("my_secure_password")
    # æ¨¡æ‹Ÿå¤§å†™é”å®š+è¾“å…¥
    await keyboard.press("CapsLock")
    await keyboard.type("ADMIN")
    await keyboard.press("CapsLock")
    # æŒ‰ä¸‹ESCé”®
    await keyboard.press("Escape")

    await browser.close()

async def main():
    async with async_playwright() as playwright:
        await run(playwright)

asyncio.run(main())
```

## æ ¸å¿ƒæ–¹æ³•
### down
æŒ‰ä¸‹æŒ‡å®šæŒ‰é”®å¹¶ä¿æŒæŒ‰ä¸‹çŠ¶æ€ï¼ˆä¸é‡Šæ”¾ï¼‰ï¼Œé€‚ç”¨äºéœ€è¦é•¿æŒ‰æŒ‰é”®çš„åœºæ™¯ï¼ˆå¦‚ç»„åˆé”®å‰ç½®ã€é•¿æŒ‰åˆ é™¤ç­‰ï¼‰ã€‚

#### ç”¨æ³•ç¤ºä¾‹
```python
# åŒæ­¥
keyboard.down("Shift")  # æŒ‰ä½Shifté”®
keyboard.type("hello")  # è¾“å…¥ç»“æœä¸º"HELLO"
keyboard.up("Shift")    # é‡Šæ”¾Shifté”®

# å¼‚æ­¥
await keyboard.down("Shift")
await keyboard.type("hello")
await keyboard.up("Shift")
```

#### å‚æ•°è¯´æ˜
- `key`ï¼šæŒ‰é”®æ ‡è¯†ï¼Œæ”¯æŒæ™®é€šå­—ç¬¦ï¼ˆå¦‚ `a`ã€`1`ï¼‰ã€åŠŸèƒ½é”®ï¼ˆå¦‚ `Shift`ã€`Enter`ã€`Backspace`ï¼‰ã€ä¿®é¥°é”®ï¼ˆå¦‚ `Control`ã€`Alt`ï¼‰ï¼Œå®Œæ•´æŒ‰é”®åˆ—è¡¨å‚è€ƒä¸‹æ–¹ã€ŒæŒ‰é”®æ ‡è¯†è¯´æ˜ã€ã€‚
- `delay`ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‰é”®æŒ‰ä¸‹åå»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ“ä½œé—´éš”ï¼Œé»˜è®¤ 0ã€‚

### insert_text
æ’å…¥çº¯æ–‡æœ¬å†…å®¹åˆ°å½“å‰ç„¦ç‚¹å…ƒç´ ï¼Œä¸ `type` æ–¹æ³•çš„åŒºåˆ«æ˜¯ï¼š**ä¸è§¦å‘é”®ç›˜äº‹ä»¶çš„æ¨¡æ‹Ÿï¼Œä»…ç›´æ¥æ’å…¥æ–‡æœ¬å†…å®¹**ï¼Œé€‚ç”¨äºæ— éœ€æ¨¡æ‹ŸæŒ‰é”®è¡Œä¸ºã€ä»…éœ€å¡«å……æ–‡æœ¬çš„åœºæ™¯ã€‚

#### ç”¨æ³•ç¤ºä¾‹
```python
# åŒæ­¥
page.click("input#username")
keyboard.insert_text("user123")  # ç›´æ¥æ’å…¥æ–‡æœ¬ï¼Œä¸æ¨¡æ‹ŸæŒ‰é”®è¿‡ç¨‹

# å¼‚æ­¥
await page.click("input#username")
await keyboard.insert_text("user123")
```

#### å‚æ•°è¯´æ˜
- `text`ï¼šéœ€è¦æ’å…¥çš„çº¯æ–‡æœ¬å­—ç¬¦ä¸²ã€‚
- `delay`ï¼ˆå¯é€‰ï¼‰ï¼šæ¯ä¸ªå­—ç¬¦æ’å…¥åçš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 0ã€‚

#### ä¸ `type` æ–¹æ³•çš„æ ¸å¿ƒåŒºåˆ«
| ç‰¹æ€§                | `insert_text`                | `type`                        |
|---------------------|------------------------------|-------------------------------|
| é”®ç›˜äº‹ä»¶æ¨¡æ‹Ÿ        | ä¸è§¦å‘ï¼ˆä»…ä¿®æ”¹å…ƒç´ å€¼ï¼‰       | è§¦å‘å®Œæ•´çš„ keydown/keypress/keyup äº‹ä»¶ |
| ç‰¹æ®ŠæŒ‰é”®æ”¯æŒ        | ä¸æ”¯æŒï¼ˆä»…çº¯æ–‡æœ¬ï¼‰           | æ”¯æŒåŠŸèƒ½é”®ã€ä¿®é¥°é”®ç»„åˆ        |
| é€‚ç”¨åœºæ™¯            | å¿«é€Ÿå¡«å……æ–‡æœ¬ã€å¿½ç•¥æŒ‰é”®è¡Œä¸º    | è¿˜åŸçœŸå®ç”¨æˆ·é”®ç›˜æ“ä½œã€éœ€è¦è§¦å‘æŒ‰é”®äº‹ä»¶ |

### press
æŒ‰ä¸‹å¹¶ç«‹å³é‡Šæ”¾æŒ‡å®šæŒ‰é”®ï¼ˆå®Œæ•´çš„æŒ‰é”®æ“ä½œï¼‰ï¼Œé€‚ç”¨äºå•ä¸ªæŒ‰é”®è§¦å‘ï¼ˆå¦‚ Enterã€Escapeï¼‰æˆ–ç»„åˆé”®ï¼ˆå¦‚ Ctrl+Sï¼‰ã€‚

#### ç”¨æ³•ç¤ºä¾‹
```python
# åŒæ­¥
# å•ä¸ªæŒ‰é”®
keyboard.press("Enter")  # å›è½¦
keyboard.press("Backspace")  # å›åˆ 
keyboard.press("Tab")  # åˆ¶è¡¨ç¬¦åˆ‡æ¢ç„¦ç‚¹
# ç»„åˆé”®ï¼ˆå¤šä¸ªæŒ‰é”®ç”¨"+"è¿æ¥ï¼‰
keyboard.press("Control+S")  # ä¿å­˜
keyboard.press("Shift+Alt+A")  # å¤šä¿®é¥°é”®ç»„åˆ
keyboard.press("Meta+V")  # Macç³»ç»Ÿçš„ç²˜è´´ï¼ˆMetaå¯¹åº”Commandé”®ï¼‰

# å¼‚æ­¥
await keyboard.press("Enter")
await keyboard.press("Control+S")
await keyboard.press("Meta+V")
```

#### å‚æ•°è¯´æ˜
- `key`ï¼šæŒ‰é”®æ ‡è¯†ï¼ˆæ”¯æŒå•ä¸ªæŒ‰é”®æˆ–ç»„åˆé”®ï¼Œç»„åˆé”®ç”¨ `+` åˆ†éš”ï¼‰ã€‚
- `delay`ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‰é”®é‡Šæ”¾åçš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 0ã€‚

### type
æ¨¡æ‹ŸçœŸå®ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥è¿‡ç¨‹ï¼Œé€ä¸ªå­—ç¬¦è§¦å‘ keydown/keypress/keyup äº‹ä»¶ï¼Œæ”¯æŒç‰¹æ®Šå­—ç¬¦å’ŒæŒ‰é”®å»¶è¿Ÿï¼Œè¿˜åŸçœŸå®è¾“å…¥è¡Œä¸ºã€‚

#### ç”¨æ³•ç¤ºä¾‹
```python
# åŒæ­¥
# åŸºç¡€æ–‡æœ¬è¾“å…¥
keyboard.type("Hello World!")
# å¸¦å»¶è¿Ÿè¾“å…¥ï¼ˆæ¯ä¸ªå­—ç¬¦é—´éš”100æ¯«ç§’ï¼‰
keyboard.type("My Email: test@example.com", delay=100)
# è¾“å…¥åŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å†…å®¹
keyboard.type("!@#$%^&*()_+")

# å¼‚æ­¥
await keyboard.type("Hello World!")
await keyboard.type("My Email: test@example.com", delay=100)
```

#### å‚æ•°è¯´æ˜
- `text`ï¼šéœ€è¦è¾“å…¥çš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼ˆæ”¯æŒæ™®é€šå­—ç¬¦å’Œéƒ¨åˆ†å¯æ‰“å°ç‰¹æ®Šå­—ç¬¦ï¼‰ã€‚
- `delay`ï¼ˆå¯é€‰ï¼‰ï¼šæ¯ä¸ªå­—ç¬¦è¾“å…¥çš„é—´éš”æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 0ï¼Œè®¾ç½®åæ›´è´´è¿‘çœŸå®ç”¨æˆ·è¾“å…¥é€Ÿåº¦ã€‚

### up
é‡Šæ”¾ä¹‹å‰é€šè¿‡ `down` æ–¹æ³•æŒ‰ä¸‹çš„æŒ‰é”®ï¼Œå®Œæˆâ€œæŒ‰ä¸‹-é‡Šæ”¾â€çš„å®Œæ•´æµç¨‹ã€‚

#### ç”¨æ³•ç¤ºä¾‹
```python
# åŒæ­¥ï¼šæ¨¡æ‹Ÿé•¿æŒ‰åˆ é™¤
keyboard.down("Backspace")
# é•¿æŒ‰500æ¯«ç§’
import time
time.sleep(0.5)
keyboard.up("Backspace")

# å¼‚æ­¥ï¼šæ¨¡æ‹Ÿé•¿æŒ‰æ–¹å‘é”®
await keyboard.down("ArrowRight")
await asyncio.sleep(0.5)
await keyboard.up("ArrowRight")
```

#### å‚æ•°è¯´æ˜
- `key`ï¼šéœ€è¦é‡Šæ”¾çš„æŒ‰é”®æ ‡è¯†ï¼ˆä¸ `down` æ–¹æ³•çš„ `key` å‚æ•°ä¸€è‡´ï¼‰ã€‚
- `delay`ï¼ˆå¯é€‰ï¼‰ï¼šæŒ‰é”®é‡Šæ”¾åçš„å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 0ã€‚

## æŒ‰é”®æ ‡è¯†è¯´æ˜
Playwright æ”¯æŒçš„æŒ‰é”®æ ‡è¯†åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼Œéƒ¨åˆ†æ ¸å¿ƒæŒ‰é”®å¦‚ä¸‹ï¼š

### 1. ä¿®é¥°é”®
| æŒ‰é”®æ ‡è¯† | å¯¹åº”é”®ç›˜æŒ‰é”®                | å¤‡æ³¨                     |
|----------|-----------------------------|--------------------------|
| `Control` | Ctrlï¼ˆWindows/Linuxï¼‰       | ç»„åˆé”®å¸¸ç”¨ä¿®é¥°ç¬¦         |
| `Shift`   | Shift                       | å¤§å°å†™åˆ‡æ¢ã€ç‰¹æ®Šå­—ç¬¦è¾“å…¥ |
| `Alt`     | Altï¼ˆWindows/Linuxï¼‰        | åŠŸèƒ½å¿«æ·é”®ä¿®é¥°ç¬¦         |
| `Meta`    | Commandï¼ˆMacï¼‰/ Winï¼ˆWindowsï¼‰ | Macç³»ç»Ÿæ ¸å¿ƒä¿®é¥°é”®       |

### 2. åŠŸèƒ½é”®
| æŒ‰é”®æ ‡è¯†       | å¯¹åº”é”®ç›˜æŒ‰é”®                |
|----------------|-----------------------------|
| `Enter`        | å›è½¦é”®                      |
| `Escape`       | ESCé”®                       |
| `Backspace`    | å›åˆ é”®ï¼ˆåˆ é™¤å·¦ä¾§å­—ç¬¦ï¼‰      |
| `Delete`       | åˆ é™¤é”®ï¼ˆåˆ é™¤å³ä¾§å­—ç¬¦ï¼‰      |
| `Tab`          | åˆ¶è¡¨ç¬¦é”®                    |
| `CapsLock`     | å¤§å†™é”å®šé”®                  |
| `F1`-`F12`     | åŠŸèƒ½é”®F1è‡³F12               |
| `PageUp`       | ä¸Šç¿»é¡µé”®                    |
| `PageDown`     | ä¸‹ç¿»é¡µé”®                    |
| `Home`         | é¦–é¡µé”®                      |
| `End`          | å°¾é¡µé”®                      |

### 3. æ–¹å‘é”®
| æŒ‰é”®æ ‡è¯†       | å¯¹åº”é”®ç›˜æŒ‰é”®                |
|----------------|-----------------------------|
| `ArrowUp`      | ä¸Šæ–¹å‘é”®                    |
| `ArrowDown`    | ä¸‹æ–¹å‘é”®                    |
| `ArrowLeft`    | å·¦æ–¹å‘é”®                    |
| `ArrowRight`   | å³æ–¹å‘é”®                    |

### 4. æ™®é€šå­—ç¬¦
- å­—æ¯ï¼š`a`-`z`ã€`A`-`Z`ï¼ˆå¤§å°å†™ä¸æ•æ„Ÿï¼Œå¯é€šè¿‡ `Shift` é”®æ§åˆ¶ï¼‰
- æ•°å­—ï¼š`0`-`9`
- ç‰¹æ®Šå­—ç¬¦ï¼š`!`ã€`@`ã€`#`ã€`$` ç­‰ï¼ˆå¯ç›´æ¥è¾“å…¥æˆ–é€šè¿‡ `Shift+å¯¹åº”æŒ‰é”®` æ¨¡æ‹Ÿï¼‰

## å¸¸ç”¨åœºæ™¯å®æˆ˜
### åœºæ™¯1ï¼šæ¨¡æ‹Ÿè¡¨å•å¡«å†™ä¸æäº¤
```python
# åŒæ­¥
page.click("#username")
keyboard.type("admin", delay=50)
page.click("#password")
keyboard.type("123456", delay=50)
# æäº¤è¡¨å•ï¼ˆEnteré”®ï¼‰
keyboard.press("Enter")

# å¼‚æ­¥
await page.click("#username")
await keyboard.type("admin", delay=50)
await page.click("#password")
await keyboard.type("123456", delay=50)
await keyboard.press("Enter")
```

### åœºæ™¯2ï¼šå¿«æ·é”®æ“ä½œï¼ˆå¤åˆ¶/ç²˜è´´/å…¨é€‰ï¼‰
```python
# åŒæ­¥
# å…¨é€‰æ–‡æœ¬
keyboard.press("Control+A")
# å¤åˆ¶
keyboard.press("Control+C")
# åˆ‡æ¢è¾“å…¥æ¡†
page.click("#target-input")
# ç²˜è´´
keyboard.press("Control+V")

# å¼‚æ­¥
await keyboard.press("Control+A")
await keyboard.press("Control+C")
await page.click("#target-input")
await keyboard.press("Control+V")
```

### åœºæ™¯3ï¼šé•¿æŒ‰æŒ‰é”®æ¨¡æ‹Ÿï¼ˆæ‰¹é‡åˆ é™¤æ–‡æœ¬ï¼‰
```python
# åŒæ­¥
page.click("#content-input")
# é•¿æŒ‰Backspaceåˆ é™¤æ‰€æœ‰å†…å®¹
keyboard.down("Backspace")
import time
time.sleep(1)  # é•¿æŒ‰1ç§’
keyboard.up("Backspace")

# å¼‚æ­¥
await page.click("#content-input")
await keyboard.down("Backspace")
await asyncio.sleep(1)
await keyboard.up("Backspace")
```

### åœºæ™¯4ï¼šåŒºåˆ†Windows/Macç³»ç»Ÿå¿«æ·é”®
```python
# åŒæ­¥
import sys
if sys.platform == "darwin":
    # Macç³»ç»Ÿï¼šCommand+Vç²˜è´´
    keyboard.press("Meta+V")
else:
    # Windows/Linuxç³»ç»Ÿï¼šCtrl+Vç²˜è´´
    keyboard.press("Control+V")

# å¼‚æ­¥
import sys
if sys.platform == "darwin":
    await keyboard.press("Meta+V")
else:
    await keyboard.press("Control+V")
```

## é‡è¦è¯´æ˜
1.  **ç„¦ç‚¹å‰ç½®**ï¼šä½¿ç”¨ Keyboard æ“ä½œå‰ï¼Œéœ€ç¡®ä¿ç›®æ ‡å…ƒç´ å·²è·å¾—ç„¦ç‚¹ï¼ˆå¯é€šè¿‡ `page.click()` æ¿€æ´»å…ƒç´ ï¼‰ï¼Œå¦åˆ™è¾“å…¥ä¼šå¤±æ•ˆã€‚
2.  **ç»„åˆé”®é¡ºåº**ï¼šä½¿ç”¨ `down`/`up` æ¨¡æ‹Ÿç»„åˆé”®æ—¶ï¼Œéœ€å…ˆæŒ‰ä¸‹ä¿®é¥°é”®ï¼ˆå¦‚ Controlï¼‰ï¼Œå†æŒ‰ä¸‹æ™®é€šé”®ï¼Œæœ€åæŒ‰ç›¸åé¡ºåºé‡Šæ”¾ã€‚
3.  **ç‰¹æ®Šå­—ç¬¦å¤„ç†**ï¼šå¯¹äºæ— æ³•ç›´æ¥è¾“å…¥çš„ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ï¼‰ï¼Œå¯ä½¿ç”¨ `keyboard.press("Enter")` æ›¿ä»£ï¼Œè€Œé `type("\n")`ã€‚
4.  **å»¶è¿Ÿé…ç½®**ï¼šè®¾ç½® `delay` å‚æ•°ï¼ˆå¦‚ `type(text, delay=50)`ï¼‰å¯æ¨¡æ‹ŸçœŸå®ç”¨æˆ·çš„è¾“å…¥é€Ÿåº¦ï¼Œé¿å…è¢«ç½‘ç«™çš„åçˆ¬æœºåˆ¶è¯†åˆ«ã€‚
5.  **Macç³»ç»Ÿå…¼å®¹**ï¼šMac ç³»ç»Ÿçš„æ ¸å¿ƒä¿®é¥°é”®ä¸º `Meta`ï¼ˆå¯¹åº” Command é”®ï¼‰ï¼Œä½¿ç”¨æ—¶éœ€ä¸ Windows/Linux ç³»ç»ŸåŒºåˆ†ã€‚

---

è¦ä¸è¦æˆ‘å¸®ä½ æ•´ç† **Keyboard ç±»å¸¸ç”¨å¿«æ·é”®å¯¹ç…§è¡¨**ï¼ŒåŒ…å«Windows/MacåŒç³»ç»Ÿçš„å¸¸ç”¨æ“ä½œï¼ˆå¦‚å¤åˆ¶ã€ç²˜è´´ã€æˆªå›¾ç­‰ï¼‰ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥é˜…ä½¿ç”¨ï¼Ÿ