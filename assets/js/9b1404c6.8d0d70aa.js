"use strict";(globalThis.webpackChunkmy_tutorial_site=globalThis.webpackChunkmy_tutorial_site||[]).push([[9126],{5766:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>i,default:()=>o,frontMatter:()=>l,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"\u5176\u4ed6/playwright/intro19","title":"\ud83d\udc9c19.Request","description":"Request \u7c7b\u5bf9\u5e94\u6d4f\u89c8\u5668\u9875\u9762\u53d1\u8d77\u7684\u5355\u4e2a\u7f51\u7edc\u8bf7\u6c42\uff0c\u53ef\u7528\u4e8e\u83b7\u53d6\u8bf7\u6c42\u7684 URL\u3001\u65b9\u6cd5\u3001\u5934\u4fe1\u606f\u3001\u53c2\u6570\u7b49\u8be6\u60c5\uff0c\u4e5f\u53ef\u914d\u5408\u8def\u7531\uff08Route\uff09\u5b9e\u73b0\u8bf7\u6c42\u62e6\u622a\u3001\u4fee\u6539\u6216\u4e2d\u6b62\u3002request.all_headers() \u662f Request \u7c7b\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u7528\u4e8e\u83b7\u53d6\u8be5\u8bf7\u6c42\u7684\u6240\u6709 HTTP \u5934\u4fe1\u606f\uff08\u5305\u542b\u9ed8\u8ba4\u5934\u548c\u81ea\u5b9a\u4e49\u5934\uff09\u3002","source":"@site/docs/\u5176\u4ed6/playwright/19.Request.md","sourceDirName":"\u5176\u4ed6/playwright","slug":"/\u5176\u4ed6/playwright/intro19","permalink":"/saodoc2/docs/\u5176\u4ed6/playwright/intro19","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":19,"frontMatter":{"id":"intro19","title":"\ud83d\udc9c19.Request"},"sidebar":"otherSidebar","previous":{"title":"\ud83d\udc9c18.Extension","permalink":"/saodoc2/docs/\u5176\u4ed6/playwright/intro18"},"next":{"title":"\ud83d\udc9c20.JsHandle","permalink":"/saodoc2/docs/\u5176\u4ed6/playwright/intro20"}}');var t=n(4848),d=n(8453);const l={id:"intro19",title:"\ud83d\udc9c19.Request"},i="Playwright for Python\uff1aRequest \u7c7b\uff08\u542b request.all_headers()\uff09\u4e2d\u6587\u7248\u6587\u6863",a={},h=[{value:"\u5feb\u901f\u793a\u4f8b",id:"\u5feb\u901f\u793a\u4f8b",level:2},{value:"\u540c\u6b65\u793a\u4f8b\uff08\u6355\u83b7\u5e76\u6253\u5370\u8bf7\u6c42\u6240\u6709\u5934\u4fe1\u606f\uff09",id:"\u540c\u6b65\u793a\u4f8b\u6355\u83b7\u5e76\u6253\u5370\u8bf7\u6c42\u6240\u6709\u5934\u4fe1\u606f",level:3},{value:"\u5f02\u6b65\u793a\u4f8b\uff08\u7b5b\u9009\u6307\u5b9a\u8bf7\u6c42\u5934\u4fe1\u606f\uff09",id:"\u5f02\u6b65\u793a\u4f8b\u7b5b\u9009\u6307\u5b9a\u8bf7\u6c42\u5934\u4fe1\u606f",level:3},{value:"Request \u7c7b\u6838\u5fc3\u5c5e\u6027",id:"request-\u7c7b\u6838\u5fc3\u5c5e\u6027",level:2},{value:"Request \u7c7b\u6838\u5fc3\u65b9\u6cd5",id:"request-\u7c7b\u6838\u5fc3\u65b9\u6cd5",level:2},{value:"1. all_headers\uff08\u6838\u5fc3\u65b9\u6cd5\uff09",id:"1-all_headers\u6838\u5fc3\u65b9\u6cd5",level:3},{value:"\u529f\u80fd\u63cf\u8ff0",id:"\u529f\u80fd\u63cf\u8ff0",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:4},{value:"\u4e0e <code>request.headers</code> \u7684\u6838\u5fc3\u533a\u522b",id:"\u4e0e-requestheaders-\u7684\u6838\u5fc3\u533a\u522b",level:4},{value:"2. failure",id:"2-failure",level:3},{value:"\u529f\u80fd\u63cf\u8ff0",id:"\u529f\u80fd\u63cf\u8ff0-1",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b-1",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-1",level:4},{value:"3. header_value",id:"3-header_value",level:3},{value:"\u529f\u80fd\u63cf\u8ff0",id:"\u529f\u80fd\u63cf\u8ff0-2",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b-2",level:4},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-2",level:4},{value:"4. redirect_from",id:"4-redirect_from",level:3},{value:"\u529f\u80fd\u63cf\u8ff0",id:"\u529f\u80fd\u63cf\u8ff0-3",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b-3",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-3",level:4},{value:"5. redirect_to",id:"5-redirect_to",level:3},{value:"\u529f\u80fd\u63cf\u8ff0",id:"\u529f\u80fd\u63cf\u8ff0-4",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b-4",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-4",level:4},{value:"6. response",id:"6-response",level:3},{value:"\u529f\u80fd\u63cf\u8ff0",id:"\u529f\u80fd\u63cf\u8ff0-5",level:4},{value:"\u7528\u6cd5\u793a\u4f8b",id:"\u7528\u6cd5\u793a\u4f8b-5",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-5",level:4},{value:"\u5e38\u89c1\u573a\u666f\u5b9e\u6218",id:"\u5e38\u89c1\u573a\u666f\u5b9e\u6218",level:2},{value:"\u573a\u666f 1\uff1a\u62e6\u622a\u8bf7\u6c42\u5e76\u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5934\u662f\u5426\u5b58\u5728",id:"\u573a\u666f-1\u62e6\u622a\u8bf7\u6c42\u5e76\u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5934\u662f\u5426\u5b58\u5728",level:3},{value:"\u573a\u666f 2\uff1a\u7b5b\u9009\u6307\u5b9a\u8d44\u6e90\u7c7b\u578b\u7684\u8bf7\u6c42\u5934",id:"\u573a\u666f-2\u7b5b\u9009\u6307\u5b9a\u8d44\u6e90\u7c7b\u578b\u7684\u8bf7\u6c42\u5934",level:3},{value:"\u573a\u666f 3\uff1a\u901a\u8fc7\u8bf7\u6c42\u5934\u5224\u65ad\u8bf7\u6c42\u6765\u6e90",id:"\u573a\u666f-3\u901a\u8fc7\u8bf7\u6c42\u5934\u5224\u65ad\u8bf7\u6c42\u6765\u6e90",level:3},{value:"\u91cd\u8981\u8bf4\u660e",id:"\u91cd\u8981\u8bf4\u660e",level:2}];function c(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"playwright-for-pythonrequest-\u7c7b\u542b-requestall_headers\u4e2d\u6587\u7248\u6587\u6863",children:"Playwright for Python\uff1aRequest \u7c7b\uff08\u542b request.all_headers()\uff09\u4e2d\u6587\u7248\u6587\u6863"})}),"\n",(0,t.jsxs)(r.p,{children:["Request \u7c7b\u5bf9\u5e94\u6d4f\u89c8\u5668\u9875\u9762\u53d1\u8d77\u7684\u5355\u4e2a\u7f51\u7edc\u8bf7\u6c42\uff0c\u53ef\u7528\u4e8e\u83b7\u53d6\u8bf7\u6c42\u7684 URL\u3001\u65b9\u6cd5\u3001\u5934\u4fe1\u606f\u3001\u53c2\u6570\u7b49\u8be6\u60c5\uff0c\u4e5f\u53ef\u914d\u5408\u8def\u7531\uff08Route\uff09\u5b9e\u73b0\u8bf7\u6c42\u62e6\u622a\u3001\u4fee\u6539\u6216\u4e2d\u6b62\u3002",(0,t.jsx)(r.code,{children:"request.all_headers()"})," \u662f Request \u7c7b\u7684\u6838\u5fc3\u65b9\u6cd5\uff0c\u7528\u4e8e\u83b7\u53d6\u8be5\u8bf7\u6c42\u7684\u6240\u6709 HTTP \u5934\u4fe1\u606f\uff08\u5305\u542b\u9ed8\u8ba4\u5934\u548c\u81ea\u5b9a\u4e49\u5934\uff09\u3002"]}),"\n",(0,t.jsx)(r.h2,{id:"\u5feb\u901f\u793a\u4f8b",children:"\u5feb\u901f\u793a\u4f8b"}),"\n",(0,t.jsx)(r.h3,{id:"\u540c\u6b65\u793a\u4f8b\u6355\u83b7\u5e76\u6253\u5370\u8bf7\u6c42\u6240\u6709\u5934\u4fe1\u606f",children:"\u540c\u6b65\u793a\u4f8b\uff08\u6355\u83b7\u5e76\u6253\u5370\u8bf7\u6c42\u6240\u6709\u5934\u4fe1\u606f\uff09"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'from playwright.sync_api import sync_playwright, Playwright\n\ndef run(playwright: Playwright):\n    browser = playwright.chromium.launch(headless=False)\n    context = browser.new_context()\n    page = context.new_page()\n\n    # \u76d1\u542c\u9875\u9762\u6240\u6709\u8bf7\u6c42\uff0c\u83b7\u53d6\u5e76\u6253\u5370\u8bf7\u6c42\u5934\n    def handle_request(request):\n        # \u6392\u9664\u65e0\u5173\u8bf7\u6c42\uff08\u5982\u56fe\u7247\u3001\u6837\u5f0f\uff09\uff0c\u4ec5\u5173\u6ce8\u6587\u6863\u8bf7\u6c42\n        if request.resource_type == "document":\n            print("=" * 50)\n            print(f"\u8bf7\u6c42URL\uff1a{request.url}")\n            print(f"\u8bf7\u6c42\u65b9\u6cd5\uff1a{request.method}")\n            print("\u6240\u6709\u8bf7\u6c42\u5934\uff1a")\n            # \u83b7\u53d6\u5e76\u904d\u5386\u6240\u6709\u8bf7\u6c42\u5934\n            all_headers = request.all_headers()\n            for header_name, header_value in all_headers.items():\n                print(f"  {header_name}: {header_value}")\n            print("=" * 50)\n\n    page.on("request", handle_request)\n    page.goto("https://example.com")\n\n    browser.close()\n\nwith sync_playwright() as playwright:\n    run(playwright)\n'})}),"\n",(0,t.jsx)(r.h3,{id:"\u5f02\u6b65\u793a\u4f8b\u7b5b\u9009\u6307\u5b9a\u8bf7\u6c42\u5934\u4fe1\u606f",children:"\u5f02\u6b65\u793a\u4f8b\uff08\u7b5b\u9009\u6307\u5b9a\u8bf7\u6c42\u5934\u4fe1\u606f\uff09"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'import asyncio\nfrom playwright.async_api import async_playwright, Playwright\n\nasync def run(playwright: Playwright):\n    browser = await playwright.chromium.launch()\n    context = await browser.new_context()\n    page = await context.new_page()\n\n    # \u5f02\u6b65\u76d1\u542c\u8bf7\u6c42\uff0c\u63d0\u53d6Authorization\u548cUser-Agent\u5934\n    async def handle_request(request):\n        if "api.example.com" in request.url:\n            all_headers = await request.all_headers()\n            # \u83b7\u53d6\u6307\u5b9a\u5934\u4fe1\u606f\uff08\u517c\u5bb9\u5934\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\uff09\n            auth_header = all_headers.get("Authorization", "\u672a\u8bbe\u7f6e")\n            user_agent = all_headers.get("User-Agent", "\u672a\u8bbe\u7f6e")\n            print(f"API\u8bf7\u6c42\u8ba4\u8bc1\u5934\uff1a{auth_header}")\n            print(f"API\u8bf7\u6c42\u7528\u6237\u4ee3\u7406\uff1a{user_agent}")\n\n    page.on("request", handle_request)\n    await page.goto("https://example.com")\n\n    await browser.close()\n\nasync def main():\n    async with async_playwright() as playwright:\n        await run(playwright)\n\nasyncio.run(main())\n'})}),"\n",(0,t.jsx)(r.h2,{id:"request-\u7c7b\u6838\u5fc3\u5c5e\u6027",children:"Request \u7c7b\u6838\u5fc3\u5c5e\u6027"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"\u5c5e\u6027"}),(0,t.jsx)(r.th,{children:"\u7528\u9014"}),(0,t.jsx)(r.th,{children:"\u8fd4\u56de\u7c7b\u578b"}),(0,t.jsx)(r.th,{children:"\u8bf4\u660e"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"url"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6\u8bf7\u6c42\u7684\u5b8c\u6574 URL\uff08\u542b\u534f\u8bae\u3001\u57df\u540d\u3001\u8def\u5f84\u3001\u53c2\u6570\uff09"}),(0,t.jsx)(r.td,{children:"str"}),(0,t.jsxs)(r.td,{children:["\u53ea\u8bfb\uff0c\u5982 ",(0,t.jsx)(r.code,{children:"https://example.com/path?key=value"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"method"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6\u8bf7\u6c42\u7684 HTTP \u65b9\u6cd5"}),(0,t.jsx)(r.td,{children:"str"}),(0,t.jsxs)(r.td,{children:["\u53ea\u8bfb\uff0c\u5982 ",(0,t.jsx)(r.code,{children:"GET"}),"\u3001",(0,t.jsx)(r.code,{children:"POST"}),"\u3001",(0,t.jsx)(r.code,{children:"PUT"}),"\u3001",(0,t.jsx)(r.code,{children:"DELETE"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"resource_type"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6\u8bf7\u6c42\u7684\u8d44\u6e90\u7c7b\u578b"}),(0,t.jsx)(r.td,{children:"str"}),(0,t.jsxs)(r.td,{children:["\u53ea\u8bfb\uff0c\u5e38\u89c1\u503c\uff1a",(0,t.jsx)(r.code,{children:"document"}),"\uff08\u7f51\u9875\u6587\u6863\uff09\u3001",(0,t.jsx)(r.code,{children:"xhr"}),"\uff08\u5f02\u6b65\u8bf7\u6c42\uff09\u3001",(0,t.jsx)(r.code,{children:"fetch"}),"\uff08Fetch \u8bf7\u6c42\uff09\u3001",(0,t.jsx)(r.code,{children:"image"}),"\uff08\u56fe\u7247\uff09\u3001",(0,t.jsx)(r.code,{children:"script"}),"\uff08\u811a\u672c\uff09\u7b49"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"post_data"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6 POST \u8bf7\u6c42\u7684\u63d0\u4ea4\u6570\u636e\uff08\u539f\u59cb\u683c\u5f0f\uff09"}),(0,t.jsx)(r.td,{children:"Optional[str/bytes]"}),(0,t.jsx)(r.td,{children:"\u53ea\u8bfb\uff0cGET \u8bf7\u6c42\u8fd4\u56de None"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"post_data_json"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6 POST \u8bf7\u6c42\u7684 JSON \u683c\u5f0f\u63d0\u4ea4\u6570\u636e"}),(0,t.jsx)(r.td,{children:"Optional[dict]"}),(0,t.jsx)(r.td,{children:"\u53ea\u8bfb\uff0c\u975e JSON \u683c\u5f0f\u8fd4\u56de None"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"headers"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6\u8bf7\u6c42\u7684\u516c\u5171\u5934\u4fe1\u606f\uff08\u7b80\u5316\u7248\uff0c\u4e0d\u542b\u6d4f\u89c8\u5668\u5185\u90e8\u5934\uff09"}),(0,t.jsx)(r.td,{children:"Dict[str, str]"}),(0,t.jsxs)(r.td,{children:["\u53ea\u8bfb\uff0c\u4e0e ",(0,t.jsx)(r.code,{children:"all_headers()"})," \u5bf9\u6bd4\u89c1\u4e0b\u6587"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"is_navigation_request"})}),(0,t.jsx)(r.td,{children:"\u5224\u65ad\u8be5\u8bf7\u6c42\u662f\u5426\u4e3a\u9875\u9762\u5bfc\u822a\u8bf7\u6c42"}),(0,t.jsx)(r.td,{children:"bool"}),(0,t.jsx)(r.td,{children:"\u53ea\u8bfb\uff0cTrue \u8868\u793a\u662f\u9875\u9762\u8df3\u8f6c\u7684\u4e3b\u8bf7\u6c42"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"frame"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6\u53d1\u8d77\u8be5\u8bf7\u6c42\u7684\u9875\u9762\u6846\u67b6"}),(0,t.jsx)(r.td,{children:"Optional[Frame]"}),(0,t.jsx)(r.td,{children:"\u53ea\u8bfb\uff0c\u90e8\u5206\u8bf7\u6c42\uff08\u5982\u5168\u5c40\u8bf7\u6c42\uff09\u53ef\u80fd\u8fd4\u56de None"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"context"})}),(0,t.jsx)(r.td,{children:"\u83b7\u53d6\u8bf7\u6c42\u6240\u5c5e\u7684\u6d4f\u89c8\u5668\u4e0a\u4e0b\u6587"}),(0,t.jsx)(r.td,{children:"BrowserContext"}),(0,t.jsx)(r.td,{children:"\u53ea\u8bfb"})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"request-\u7c7b\u6838\u5fc3\u65b9\u6cd5",children:"Request \u7c7b\u6838\u5fc3\u65b9\u6cd5"}),"\n",(0,t.jsx)(r.h3,{id:"1-all_headers\u6838\u5fc3\u65b9\u6cd5",children:"1. all_headers\uff08\u6838\u5fc3\u65b9\u6cd5\uff09"}),"\n",(0,t.jsx)(r.h4,{id:"\u529f\u80fd\u63cf\u8ff0",children:"\u529f\u80fd\u63cf\u8ff0"}),"\n",(0,t.jsxs)(r.p,{children:["\u83b7\u53d6\u5f53\u524d\u8bf7\u6c42\u7684",(0,t.jsx)(r.strong,{children:"\u6240\u6709 HTTP \u5934\u4fe1\u606f"}),"\uff0c\u5305\u62ec\u6d4f\u89c8\u5668\u81ea\u52a8\u6dfb\u52a0\u7684\u5185\u90e8\u5934\uff08\u5982 ",(0,t.jsx)(r.code,{children:"Sec-Fetch-Site"}),"\u3001",(0,t.jsx)(r.code,{children:"Sec-Ch-Ua"}),"\uff09\u3001\u81ea\u5b9a\u4e49\u5934\uff08\u5982 ",(0,t.jsx)(r.code,{children:"Authorization"}),"\uff09\u4ee5\u53ca\u9ed8\u8ba4\u5934\uff08\u5982 ",(0,t.jsx)(r.code,{children:"User-Agent"}),"\u3001",(0,t.jsx)(r.code,{children:"Accept"}),"\uff09\uff0c\u8fd4\u56de\u5b8c\u6574\u7684\u5934\u4fe1\u606f\u5b57\u5178\u3002"]}),"\n",(0,t.jsx)(r.h4,{id:"\u7528\u6cd5\u793a\u4f8b",children:"\u7528\u6cd5\u793a\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef handle_request(request):\n    all_headers = request.all_headers()\n    # \u6253\u5370\u6240\u6709\u5934\u4fe1\u606f\n    print("\u5b8c\u6574\u8bf7\u6c42\u5934\uff1a", all_headers)\n    # \u83b7\u53d6\u5355\u4e2a\u5934\uff08\u5ffd\u7565\u5927\u5c0f\u5199\uff0c\u5b57\u5178\u952e\u5df2\u6807\u51c6\u5316\uff09\n    accept_header = all_headers.get("Accept")\n    print(f"Accept\u5934\uff1a{accept_header}")\n\n# \u5f02\u6b65\nasync def handle_request(request):\n    all_headers = await request.all_headers()\n    sec_ua_header = all_headers.get("Sec-Ch-Ua")\n    print(f"\u6d4f\u89c8\u5668UA\u4fe1\u606f\u5934\uff1a{sec_ua_header}")\n'})}),"\n",(0,t.jsx)(r.h4,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Dict[str, str]"}),"\uff1a\u952e\u4e3a\u5934\u5b57\u6bb5\u540d\u79f0\uff08\u6807\u51c6\u5316\u4e3a\u5c0f\u5199\u6216\u9a7c\u5cf0\u5f0f\uff0c\u5982 ",(0,t.jsx)(r.code,{children:"user-agent"})," \u6216 ",(0,t.jsx)(r.code,{children:"User-Agent"}),"\uff09\uff0c\u503c\u4e3a\u5934\u5b57\u6bb5\u5bf9\u5e94\u7684\u503c\u3002"]}),"\n",(0,t.jsxs)(r.h4,{id:"\u4e0e-requestheaders-\u7684\u6838\u5fc3\u533a\u522b",children:["\u4e0e ",(0,t.jsx)(r.code,{children:"request.headers"})," \u7684\u6838\u5fc3\u533a\u522b"]}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"\u7279\u6027"}),(0,t.jsx)(r.th,{children:(0,t.jsx)(r.code,{children:"request.all_headers()"})}),(0,t.jsx)(r.th,{children:(0,t.jsx)(r.code,{children:"request.headers"})})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"\u5305\u542b\u5934\u7c7b\u578b"}),(0,t.jsx)(r.td,{children:"\u6240\u6709\u5934\uff08\u516c\u5171\u5934+\u6d4f\u89c8\u5668\u5185\u90e8\u5934+\u81ea\u5b9a\u4e49\u5934\uff09"}),(0,t.jsx)(r.td,{children:"\u4ec5\u516c\u5171\u5934\uff08\u81ea\u5b9a\u4e49\u5934+\u6838\u5fc3\u9ed8\u8ba4\u5934\uff0c\u4e0d\u542b\u5185\u90e8\u5934\uff09"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"\u5b8c\u6574\u6027"}),(0,t.jsx)(r.td,{children:"\u5b8c\u6574\uff0c\u8986\u76d6\u6240\u6709\u8bf7\u6c42\u5934"}),(0,t.jsx)(r.td,{children:"\u7b80\u5316\uff0c\u4ec5\u5c55\u793a\u5e38\u7528\u5934"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"\u9002\u7528\u573a\u666f"}),(0,t.jsx)(r.td,{children:"\u8c03\u8bd5\u3001\u5b8c\u6574\u8bf7\u6c42\u5206\u6790\u3001\u9700\u8981\u83b7\u53d6\u5185\u90e8\u5934\u4fe1\u606f"}),(0,t.jsx)(r.td,{children:"\u5e38\u89c4\u4e1a\u52a1\u573a\u666f\uff0c\u83b7\u53d6\u81ea\u5b9a\u4e49/\u5e38\u7528\u5934"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:"\u793a\u4f8b\u8fd4\u56de"}),(0,t.jsxs)(r.td,{children:["\u5305\u542b ",(0,t.jsx)(r.code,{children:"Sec-Fetch-Mode"}),"\u3001",(0,t.jsx)(r.code,{children:"Sec-Ch-Ua-Platform"})," \u7b49"]}),(0,t.jsxs)(r.td,{children:["\u4ec5\u5305\u542b ",(0,t.jsx)(r.code,{children:"User-Agent"}),"\u3001",(0,t.jsx)(r.code,{children:"Authorization"}),"\u3001",(0,t.jsx)(r.code,{children:"Accept"})," \u7b49"]})]})]})]}),"\n",(0,t.jsx)(r.h3,{id:"2-failure",children:"2. failure"}),"\n",(0,t.jsx)(r.h4,{id:"\u529f\u80fd\u63cf\u8ff0-1",children:"\u529f\u80fd\u63cf\u8ff0"}),"\n",(0,t.jsx)(r.p,{children:"\u83b7\u53d6\u8bf7\u6c42\u5931\u8d25\u7684\u539f\u56e0\uff08\u82e5\u8bf7\u6c42\u6210\u529f\u5219\u8fd4\u56de None\uff09\uff0c\u7528\u4e8e\u6392\u67e5\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25\u95ee\u9898\uff08\u5982\u8d85\u65f6\u3001\u8fde\u63a5\u65ad\u5f00\u30014xx/5xx \u54cd\u5e94\u4e0d\u5c5e\u4e8e\u5931\u8d25\uff0c\u4ec5\u7f51\u7edc\u5c42\u9762\u5f02\u5e38\u624d\u7b97\u5931\u8d25\uff09\u3002"}),"\n",(0,t.jsx)(r.h4,{id:"\u7528\u6cd5\u793a\u4f8b-1",children:"\u7528\u6cd5\u793a\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef handle_request_finished(request):\n    failure = request.failure()\n    if failure:\n        print(f"\u8bf7\u6c42 {request.url} \u5931\u8d25\uff1a")\n        print(f"  \u5931\u8d25\u539f\u56e0\uff1a{failure[\'error\']}")\n        print(f"  \u5931\u8d25\u6d88\u606f\uff1a{failure[\'message\']}")\n\npage.on("requestfinished", handle_request_finished)\n\n# \u5f02\u6b65\nasync def handle_request_finished(request):\n    failure = await request.failure()\n    if failure:\n        print(f"\u8bf7\u6c42 {request.url} \u5931\u8d25\uff1a{failure[\'message\']}")\n\npage.on("requestfinished", handle_request_finished)\n'})}),"\n",(0,t.jsx)(r.h4,{id:"\u8fd4\u56de\u503c-1",children:"\u8fd4\u56de\u503c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Optional[Dict[str, str]]"}),"\uff1a\u8bf7\u6c42\u5931\u8d25\u65f6\u8fd4\u56de\u5305\u542b ",(0,t.jsx)(r.code,{children:"error"}),"\uff08\u9519\u8bef\u7c7b\u578b\uff09\u548c ",(0,t.jsx)(r.code,{children:"message"}),"\uff08\u9519\u8bef\u8be6\u60c5\uff09\u7684\u5b57\u5178\uff1b\u8bf7\u6c42\u6210\u529f\u65f6\u8fd4\u56de None\u3002"]}),"\n",(0,t.jsx)(r.h3,{id:"3-header_value",children:"3. header_value"}),"\n",(0,t.jsx)(r.h4,{id:"\u529f\u80fd\u63cf\u8ff0-2",children:"\u529f\u80fd\u63cf\u8ff0"}),"\n",(0,t.jsx)(r.p,{children:"\u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u7684\u8bf7\u6c42\u5934\u503c\uff0c\u652f\u6301\u6a21\u7cca\u5339\u914d\uff08\u5ffd\u7565\u5927\u5c0f\u5199\uff09\uff0c\u82e5\u5934\u4e0d\u5b58\u5728\u5219\u8fd4\u56de None\uff0c\u9002\u7528\u4e8e\u5feb\u901f\u83b7\u53d6\u5355\u4e2a\u7279\u5b9a\u5934\u4fe1\u606f\u3002"}),"\n",(0,t.jsx)(r.h4,{id:"\u7528\u6cd5\u793a\u4f8b-2",children:"\u7528\u6cd5\u793a\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef handle_request(request):\n    # \u83b7\u53d6User-Agent\u5934\uff08\u5ffd\u7565\u5927\u5c0f\u5199\uff09\n    user_agent = request.header_value("user-agent")\n    # \u83b7\u53d6Authorization\u5934\n    auth = request.header_value("Authorization")\n    print(f"User-Agent\uff1a{user_agent}")\n    print(f"Authorization\uff1a{auth or \'\u65e0\u8ba4\u8bc1\u4fe1\u606f\'}")\n\n# \u5f02\u6b65\nasync def handle_request(request):\n    accept = await request.header_value("Accept")\n    print(f"Accept\u5934\uff1a{accept}")\n'})}),"\n",(0,t.jsx)(r.h4,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"name"}),'\uff1a\u8bf7\u6c42\u5934\u540d\u79f0\uff08\u5b57\u7b26\u4e32\uff0c\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff0c\u5982 "user-agent"\u3001"User-Agent" \u6548\u679c\u4e00\u81f4\uff09\u3002']}),"\n"]}),"\n",(0,t.jsx)(r.h4,{id:"\u8fd4\u56de\u503c-2",children:"\u8fd4\u56de\u503c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Optional[str]"}),"\uff1a\u6307\u5b9a\u5934\u7684\u503c\uff1b\u82e5\u5934\u4e0d\u5b58\u5728\u8fd4\u56de None\u3002"]}),"\n",(0,t.jsx)(r.h3,{id:"4-redirect_from",children:"4. redirect_from"}),"\n",(0,t.jsx)(r.h4,{id:"\u529f\u80fd\u63cf\u8ff0-3",children:"\u529f\u80fd\u63cf\u8ff0"}),"\n",(0,t.jsx)(r.p,{children:"\u83b7\u53d6\u5f53\u524d\u8bf7\u6c42\u7684\u6765\u6e90\u8bf7\u6c42\uff08\u5373\u8be5\u8bf7\u6c42\u662f\u7531\u54ea\u4e2a\u8bf7\u6c42\u91cd\u5b9a\u5411\u800c\u6765\uff09\uff0c\u82e5\u65e0\u91cd\u5b9a\u5411\u5219\u8fd4\u56de None\u3002"}),"\n",(0,t.jsx)(r.h4,{id:"\u7528\u6cd5\u793a\u4f8b-3",children:"\u7528\u6cd5\u793a\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef handle_request(request):\n    redirect_source = request.redirect_from()\n    if redirect_source:\n        print(f"\u8bf7\u6c42 {request.url} \u6765\u81ea\u91cd\u5b9a\u5411\uff1a{redirect_source.url}")\n    else:\n        print(f"\u8bf7\u6c42 {request.url} \u975e\u91cd\u5b9a\u5411\u8bf7\u6c42")\n\n# \u5f02\u6b65\nasync def handle_request(request):\n    redirect_source = await request.redirect_from()\n    if redirect_source:\n        print(f"\u91cd\u5b9a\u5411\u6765\u6e90\uff1a{redirect_source.url}")\n'})}),"\n",(0,t.jsx)(r.h4,{id:"\u8fd4\u56de\u503c-3",children:"\u8fd4\u56de\u503c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Optional[Request]"}),"\uff1a\u91cd\u5b9a\u5411\u6765\u6e90\u7684 Request \u5b9e\u4f8b\uff1b\u65e0\u91cd\u5b9a\u5411\u65f6\u8fd4\u56de None\u3002"]}),"\n",(0,t.jsx)(r.h3,{id:"5-redirect_to",children:"5. redirect_to"}),"\n",(0,t.jsx)(r.h4,{id:"\u529f\u80fd\u63cf\u8ff0-4",children:"\u529f\u80fd\u63cf\u8ff0"}),"\n",(0,t.jsx)(r.p,{children:"\u83b7\u53d6\u5f53\u524d\u8bf7\u6c42\u91cd\u5b9a\u5411\u5230\u7684\u76ee\u6807\u8bf7\u6c42\uff08\u5373\u8be5\u8bf7\u6c42\u5c06\u91cd\u5b9a\u5411\u5230\u54ea\u4e2a URL\uff09\uff0c\u82e5\u65e0\u91cd\u5b9a\u5411\u5219\u8fd4\u56de None\u3002"}),"\n",(0,t.jsx)(r.h4,{id:"\u7528\u6cd5\u793a\u4f8b-4",children:"\u7528\u6cd5\u793a\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef handle_request(request):\n    redirect_target = request.redirect_to()\n    if redirect_target:\n        print(f"\u8bf7\u6c42 {request.url} \u5c06\u91cd\u5b9a\u5411\u5230\uff1a{redirect_target.url}")\n\n# \u5f02\u6b65\nasync def handle_request(request):\n    redirect_target = await request.redirect_to()\n    if redirect_target:\n        print(f"\u91cd\u5b9a\u5411\u76ee\u6807\uff1a{redirect_target.url}")\n'})}),"\n",(0,t.jsx)(r.h4,{id:"\u8fd4\u56de\u503c-4",children:"\u8fd4\u56de\u503c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Optional[Request]"}),"\uff1a\u91cd\u5b9a\u5411\u76ee\u6807\u7684 Request \u5b9e\u4f8b\uff1b\u65e0\u91cd\u5b9a\u5411\u65f6\u8fd4\u56de None\u3002"]}),"\n",(0,t.jsx)(r.h3,{id:"6-response",children:"6. response"}),"\n",(0,t.jsx)(r.h4,{id:"\u529f\u80fd\u63cf\u8ff0-5",children:"\u529f\u80fd\u63cf\u8ff0"}),"\n",(0,t.jsx)(r.p,{children:"\u83b7\u53d6\u5f53\u524d\u8bf7\u6c42\u5bf9\u5e94\u7684\u54cd\u5e94\uff08Response \u5b9e\u4f8b\uff09\uff0c\u82e5\u8bf7\u6c42\u5c1a\u672a\u6536\u5230\u54cd\u5e94\u6216\u54cd\u5e94\u5931\u8d25\u5219\u8fd4\u56de None\u3002"}),"\n",(0,t.jsx)(r.h4,{id:"\u7528\u6cd5\u793a\u4f8b-5",children:"\u7528\u6cd5\u793a\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef handle_request_finished(request):\n    response = request.response()\n    if response:\n        print(f"\u8bf7\u6c42 {request.url} \u54cd\u5e94\u72b6\u6001\u7801\uff1a{response.status}")\n        print(f"\u54cd\u5e94\u72b6\u6001\u6587\u672c\uff1a{response.status_text}")\n\npage.on("requestfinished", handle_request_finished)\n\n# \u5f02\u6b65\nasync def handle_request_finished(request):\n    response = await request.response()\n    if response:\n        print(f"\u54cd\u5e94\u72b6\u6001\u7801\uff1a{response.status}")\n'})}),"\n",(0,t.jsx)(r.h4,{id:"\u8fd4\u56de\u503c-5",children:"\u8fd4\u56de\u503c"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Optional[Response]"}),"\uff1a\u8bf7\u6c42\u5bf9\u5e94\u7684 Response \u5b9e\u4f8b\uff1b\u65e0\u54cd\u5e94\u65f6\u8fd4\u56de None\u3002"]}),"\n",(0,t.jsx)(r.h2,{id:"\u5e38\u89c1\u573a\u666f\u5b9e\u6218",children:"\u5e38\u89c1\u573a\u666f\u5b9e\u6218"}),"\n",(0,t.jsx)(r.h3,{id:"\u573a\u666f-1\u62e6\u622a\u8bf7\u6c42\u5e76\u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5934\u662f\u5426\u5b58\u5728",children:"\u573a\u666f 1\uff1a\u62e6\u622a\u8bf7\u6c42\u5e76\u9a8c\u8bc1\u81ea\u5b9a\u4e49\u5934\u662f\u5426\u5b58\u5728"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef test_custom_header_exists(page):\n    # \u62e6\u622a\u6240\u6709API\u8bf7\u6c42\n    def handle_route(route, request):\n        all_headers = request.all_headers()\n        # \u9a8c\u8bc1\u662f\u5426\u5305\u542b\u81ea\u5b9a\u4e49\u6d4b\u8bd5\u5934\n        assert "X-Test-Id" in all_headers, "\u8bf7\u6c42\u7f3a\u5c11X-Test-Id\u81ea\u5b9a\u4e49\u5934"\n        assert all_headers["X-Test-Id"] == "playwright-test-123", "X-Test-Id\u5934\u503c\u4e0d\u5339\u914d"\n        # \u7ee7\u7eed\u6267\u884c\u8bf7\u6c42\n        route.continue_()\n\n    page.route("**/api/**", handle_route)\n    page.goto("https://example.com")\n\n# \u5f02\u6b65\nasync def test_custom_header_exists(page):\n    async def handle_route(route, request):\n        all_headers = await request.all_headers()\n        assert "X-Test-Id" in all_headers\n        await route.continue_()\n\n    await page.route("**/api/**", handle_route)\n    await page.goto("https://example.com")\n'})}),"\n",(0,t.jsx)(r.h3,{id:"\u573a\u666f-2\u7b5b\u9009\u6307\u5b9a\u8d44\u6e90\u7c7b\u578b\u7684\u8bf7\u6c42\u5934",children:"\u573a\u666f 2\uff1a\u7b5b\u9009\u6307\u5b9a\u8d44\u6e90\u7c7b\u578b\u7684\u8bf7\u6c42\u5934"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef filter_xhr_request_headers(page):\n    xhr_headers_list = []\n    def handle_request(request):\n        if request.resource_type == "xhr":\n            headers = request.all_headers()\n            xhr_headers_list.append({\n                "url": request.url,\n                "headers": headers\n            })\n\n    page.on("request", handle_request)\n    page.goto("https://example.com")\n    # \u6253\u5370\u6240\u6709XHR\u8bf7\u6c42\u7684\u5934\u4fe1\u606f\n    for xhr in xhr_headers_list:\n        print(f"XHR URL\uff1a{xhr[\'url\']}")\n        print(f"XHR \u5934\uff1a{xhr[\'headers\']}")\n\n# \u5f02\u6b65\nasync def filter_xhr_request_headers(page):\n    xhr_headers_list = []\n    async def handle_request(request):\n        if request.resource_type == "xhr":\n            headers = await request.all_headers()\n            xhr_headers_list.append({"url": request.url, "headers": headers})\n\n    page.on("request", handle_request)\n    await page.goto("https://example.com")\n    for xhr in xhr_headers_list:\n        print(f"XHR URL\uff1a{xhr[\'url\']}")\n'})}),"\n",(0,t.jsx)(r.h3,{id:"\u573a\u666f-3\u901a\u8fc7\u8bf7\u6c42\u5934\u5224\u65ad\u8bf7\u6c42\u6765\u6e90",children:"\u573a\u666f 3\uff1a\u901a\u8fc7\u8bf7\u6c42\u5934\u5224\u65ad\u8bf7\u6c42\u6765\u6e90"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-python",children:'# \u540c\u6b65\ndef judge_request_origin(page):\n    def handle_request(request):\n        all_headers = request.all_headers()\n        # \u901a\u8fc7Referer\u5934\u5224\u65ad\u8bf7\u6c42\u6765\u6e90\u9875\u9762\n        referer = all_headers.get("Referer", "\u76f4\u63a5\u8bbf\u95ee")\n        print(f"\u8bf7\u6c42 {request.url} \u6765\u81ea\uff1a{referer}")\n        # \u901a\u8fc7Sec-Fetch-Site\u5934\u5224\u65ad\u8de8\u57df\u60c5\u51b5\n        fetch_site = all_headers.get("Sec-Fetch-Site", "\u672a\u77e5")\n        if fetch_site == "cross-site":\n            print(f"  \u8be5\u8bf7\u6c42\u4e3a\u8de8\u57df\u8bf7\u6c42")\n        elif fetch_site == "same-origin":\n            print(f"  \u8be5\u8bf7\u6c42\u4e3a\u540c\u57df\u8bf7\u6c42")\n\n    page.on("request", handle_request)\n    page.goto("https://example.com")\n\n# \u5f02\u6b65\nasync def judge_request_origin(page):\n    async def handle_request(request):\n        all_headers = await request.all_headers()\n        referer = all_headers.get("Referer", "\u76f4\u63a5\u8bbf\u95ee")\n        fetch_site = all_headers.get("Sec-Fetch-Site", "\u672a\u77e5")\n        print(f"\u8bf7\u6c42 {request.url} \u6765\u81ea\uff1a{referer}\uff0c\u8de8\u57df\u72b6\u6001\uff1a{fetch_site}")\n\n    page.on("request", handle_request)\n    await page.goto("https://example.com")\n'})}),"\n",(0,t.jsx)(r.h2,{id:"\u91cd\u8981\u8bf4\u660e",children:"\u91cd\u8981\u8bf4\u660e"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u4e8b\u4ef6\u76d1\u542c\u65f6\u673a"}),"\uff1a\u9700\u5728 ",(0,t.jsx)(r.code,{children:"page.goto()"})," \u4e4b\u524d\u6ce8\u518c ",(0,t.jsx)(r.code,{children:"request"})," \u4e8b\u4ef6\u76d1\u542c\uff0c\u5426\u5219\u4f1a\u9057\u6f0f\u9875\u9762\u521d\u59cb\u52a0\u8f7d\u7684\u8bf7\u6c42\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u5934\u540d\u79f0\u5927\u5c0f\u5199"}),"\uff1a",(0,t.jsx)(r.code,{children:"all_headers()"})," \u8fd4\u56de\u7684\u5934\u540d\u79f0\u53ef\u80fd\u4e3a\u5c0f\u5199\uff08\u5982 ",(0,t.jsx)(r.code,{children:"user-agent"}),"\uff09\u6216\u9a7c\u5cf0\u5f0f\uff08\u5982 ",(0,t.jsx)(r.code,{children:"User-Agent"}),"\uff09\uff0c\u5efa\u8bae\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"dict.get()"})," \u65b9\u6cd5\u5e76\u5ffd\u7565\u5927\u5c0f\u5199\u83b7\u53d6\u6307\u5b9a\u5934\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u8d44\u6e90\u7c7b\u578b\u8fc7\u6ee4"}),"\uff1a\u5b9e\u9645\u4f7f\u7528\u4e2d\u53ef\u901a\u8fc7 ",(0,t.jsx)(r.code,{children:"request.resource_type"})," \u8fc7\u6ee4\u65e0\u5173\u8bf7\u6c42\uff08\u5982\u56fe\u7247\u3001\u6837\u5f0f\u3001\u5b57\u4f53\uff09\uff0c\u805a\u7126\u6838\u5fc3\u8bf7\u6c42\uff08\u5982\u6587\u6863\u3001API\u63a5\u53e3\uff09\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u5f02\u6b65\u6ce8\u610f\u4e8b\u9879"}),"\uff1a\u5f02\u6b65\u6a21\u5f0f\u4e0b\uff0c",(0,t.jsx)(r.code,{children:"request"})," \u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u9700\u5b9a\u4e49\u4e3a ",(0,t.jsx)(r.code,{children:"async"})," \u51fd\u6570\uff0c\u4e14\u8c03\u7528 ",(0,t.jsx)(r.code,{children:"request.all_headers()"})," \u65f6\u9700\u52a0 ",(0,t.jsx)(r.code,{children:"await"}),"\u3002"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\u91cd\u5b9a\u5411\u5904\u7406"}),"\uff1a\u91cd\u5b9a\u5411\u8bf7\u6c42\u7684 ",(0,t.jsx)(r.code,{children:"all_headers()"})," \u53ef\u83b7\u53d6\u91cd\u5b9a\u5411\u65f6\u7684\u8bf7\u6c42\u5934\uff0c\u901a\u8fc7 ",(0,t.jsx)(r.code,{children:"redirect_from()"})," \u548c ",(0,t.jsx)(r.code,{children:"redirect_to()"})," \u53ef\u8ffd\u8e2a\u91cd\u5b9a\u5411\u94fe\u8def\u3002"]}),"\n"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsxs)(r.p,{children:["\u8981\u4e0d\u8981\u6211\u5e2e\u4f60\u6574\u7406 ",(0,t.jsx)(r.strong,{children:"Request \u7c7b\u5e38\u7528\u64cd\u4f5c\u5de5\u5177\u51fd\u6570"}),"\uff0c\u5305\u542b\u8bf7\u6c42\u5934\u7b5b\u9009\u3001API\u8bf7\u6c42\u62e6\u622a\u9a8c\u8bc1\u3001\u5931\u8d25\u8bf7\u6c42\u6392\u67e5\u7b49\u53ef\u76f4\u63a5\u590d\u7528\u7684\u4ee3\u7801\u7247\u6bb5\uff1f"]})]})}function o(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>i});var s=n(6540);const t={},d=s.createContext(t);function l(e){const r=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(d.Provider,{value:r},e.children)}}}]);